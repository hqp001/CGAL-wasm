var pa=Object.defineProperty;var va=(t,r,i)=>r in t?pa(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;var _e=(t,r,i)=>va(t,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var ma={value:()=>{}};function Bn(){for(var t=0,r=arguments.length,i={},a;t<r;++t){if(!(a=arguments[t]+"")||a in i||/[\s.]/.test(a))throw new Error("illegal type: "+a);i[a]=[]}return new Lt(i)}function Lt(t){this._=t}function _a(t,r){return t.trim().split(/^|\s+/).map(function(i){var a="",l=i.indexOf(".");if(l>=0&&(a=i.slice(l+1),i=i.slice(0,l)),i&&!r.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:a}})}Lt.prototype=Bn.prototype={constructor:Lt,on:function(t,r){var i=this._,a=_a(t+"",i),l,u=-1,f=a.length;if(arguments.length<2){for(;++u<f;)if((l=(t=a[u]).type)&&(l=ga(i[l],t.name)))return l;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++u<f;)if(l=(t=a[u]).type)i[l]=pn(i[l],t.name,r);else if(r==null)for(l in i)i[l]=pn(i[l],t.name,null);return this},copy:function(){var t={},r=this._;for(var i in r)t[i]=r[i].slice();return new Lt(t)},call:function(t,r){if((l=arguments.length-2)>0)for(var i=new Array(l),a=0,l,u;a<l;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],a=0,l=u.length;a<l;++a)u[a].value.apply(r,i)},apply:function(t,r,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],l=0,u=a.length;l<u;++l)a[l].value.apply(r,i)}};function ga(t,r){for(var i=0,a=t.length,l;i<a;++i)if((l=t[i]).name===r)return l.value}function pn(t,r,i){for(var a=0,l=t.length;a<l;++a)if(t[a].name===r){t[a]=ma,t=t.slice(0,a).concat(t.slice(a+1));break}return i!=null&&t.push({name:r,value:i}),t}var mr="http://www.w3.org/1999/xhtml";const vn={svg:"http://www.w3.org/2000/svg",xhtml:mr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jt(t){var r=t+="",i=r.indexOf(":");return i>=0&&(r=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),vn.hasOwnProperty(r)?{space:vn[r],local:t}:t}function ya(t){return function(){var r=this.ownerDocument,i=this.namespaceURI;return i===mr&&r.documentElement.namespaceURI===mr?r.createElement(t):r.createElementNS(i,t)}}function wa(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function zn(t){var r=jt(t);return(r.local?wa:ya)(r)}function Ea(){}function kr(t){return t==null?Ea:function(){return this.querySelector(t)}}function ba(t){typeof t!="function"&&(t=kr(t));for(var r=this._groups,i=r.length,a=new Array(i),l=0;l<i;++l)for(var u=r[l],f=u.length,h=a[l]=new Array(f),v,m,g=0;g<f;++g)(v=u[g])&&(m=t.call(v,v.__data__,g,u))&&("__data__"in v&&(m.__data__=v.__data__),h[g]=m);return new de(a,this._parents)}function xa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ta(){return[]}function Hn(t){return t==null?Ta:function(){return this.querySelectorAll(t)}}function ka(t){return function(){return xa(t.apply(this,arguments))}}function Sa(t){typeof t=="function"?t=ka(t):t=Hn(t);for(var r=this._groups,i=r.length,a=[],l=[],u=0;u<i;++u)for(var f=r[u],h=f.length,v,m=0;m<h;++m)(v=f[m])&&(a.push(t.call(v,v.__data__,m,f)),l.push(v));return new de(a,l)}function Wn(t){return function(){return this.matches(t)}}function qn(t){return function(r){return r.matches(t)}}var Aa=Array.prototype.find;function Fa(t){return function(){return Aa.call(this.children,t)}}function Ca(){return this.firstElementChild}function Ma(t){return this.select(t==null?Ca:Fa(typeof t=="function"?t:qn(t)))}var Pa=Array.prototype.filter;function Na(){return Array.from(this.children)}function Ra(t){return function(){return Pa.call(this.children,t)}}function Oa(t){return this.selectAll(t==null?Na:Ra(typeof t=="function"?t:qn(t)))}function Da(t){typeof t!="function"&&(t=Wn(t));for(var r=this._groups,i=r.length,a=new Array(i),l=0;l<i;++l)for(var u=r[l],f=u.length,h=a[l]=[],v,m=0;m<f;++m)(v=u[m])&&t.call(v,v.__data__,m,u)&&h.push(v);return new de(a,this._parents)}function Vn(t){return new Array(t.length)}function Ia(){return new de(this._enter||this._groups.map(Vn),this._parents)}function zt(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}zt.prototype={constructor:zt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $a(t){return function(){return t}}function La(t,r,i,a,l,u){for(var f=0,h,v=r.length,m=u.length;f<m;++f)(h=r[f])?(h.__data__=u[f],a[f]=h):i[f]=new zt(t,u[f]);for(;f<v;++f)(h=r[f])&&(l[f]=h)}function Ua(t,r,i,a,l,u,f){var h,v,m=new Map,g=r.length,w=u.length,b=new Array(g),E;for(h=0;h<g;++h)(v=r[h])&&(b[h]=E=f.call(v,v.__data__,h,r)+"",m.has(E)?l[h]=v:m.set(E,v));for(h=0;h<w;++h)E=f.call(t,u[h],h,u)+"",(v=m.get(E))?(a[h]=v,v.__data__=u[h],m.delete(E)):i[h]=new zt(t,u[h]);for(h=0;h<g;++h)(v=r[h])&&m.get(b[h])===v&&(l[h]=v)}function Ba(t){return t.__data__}function za(t,r){if(!arguments.length)return Array.from(this,Ba);var i=r?Ua:La,a=this._parents,l=this._groups;typeof t!="function"&&(t=$a(t));for(var u=l.length,f=new Array(u),h=new Array(u),v=new Array(u),m=0;m<u;++m){var g=a[m],w=l[m],b=w.length,E=Ha(t.call(g,g&&g.__data__,m,a)),x=E.length,k=h[m]=new Array(x),P=f[m]=new Array(x),F=v[m]=new Array(b);i(g,w,k,P,F,E,r);for(var N=0,D=0,$,q;N<x;++N)if($=k[N]){for(N>=D&&(D=N+1);!(q=P[D])&&++D<x;);$._next=q||null}}return f=new de(f,a),f._enter=h,f._exit=v,f}function Ha(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Wa(){return new de(this._exit||this._groups.map(Vn),this._parents)}function qa(t,r,i){var a=this.enter(),l=this,u=this.exit();return typeof t=="function"?(a=t(a),a&&(a=a.selection())):a=a.append(t+""),r!=null&&(l=r(l),l&&(l=l.selection())),i==null?u.remove():i(u),a&&l?a.merge(l).order():l}function Va(t){for(var r=t.selection?t.selection():t,i=this._groups,a=r._groups,l=i.length,u=a.length,f=Math.min(l,u),h=new Array(l),v=0;v<f;++v)for(var m=i[v],g=a[v],w=m.length,b=h[v]=new Array(w),E,x=0;x<w;++x)(E=m[x]||g[x])&&(b[x]=E);for(;v<l;++v)h[v]=i[v];return new de(h,this._parents)}function Ga(){for(var t=this._groups,r=-1,i=t.length;++r<i;)for(var a=t[r],l=a.length-1,u=a[l],f;--l>=0;)(f=a[l])&&(u&&f.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(f,u),u=f);return this}function ja(t){t||(t=Ya);function r(w,b){return w&&b?t(w.__data__,b.__data__):!w-!b}for(var i=this._groups,a=i.length,l=new Array(a),u=0;u<a;++u){for(var f=i[u],h=f.length,v=l[u]=new Array(h),m,g=0;g<h;++g)(m=f[g])&&(v[g]=m);v.sort(r)}return new de(l,this._parents).order()}function Ya(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function Xa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ka(){return Array.from(this)}function Ja(){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var a=t[r],l=0,u=a.length;l<u;++l){var f=a[l];if(f)return f}return null}function Qa(){let t=0;for(const r of this)++t;return t}function Za(){return!this.node()}function es(t){for(var r=this._groups,i=0,a=r.length;i<a;++i)for(var l=r[i],u=0,f=l.length,h;u<f;++u)(h=l[u])&&t.call(h,h.__data__,u,l);return this}function ts(t){return function(){this.removeAttribute(t)}}function rs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ns(t,r){return function(){this.setAttribute(t,r)}}function is(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function os(t,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function as(t,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function ss(t,r){var i=jt(t);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((r==null?i.local?rs:ts:typeof r=="function"?i.local?as:os:i.local?is:ns)(i,r))}function Gn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ls(t){return function(){this.style.removeProperty(t)}}function us(t,r,i){return function(){this.style.setProperty(t,r,i)}}function cs(t,r,i){return function(){var a=r.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,i)}}function fs(t,r,i){return arguments.length>1?this.each((r==null?ls:typeof r=="function"?cs:us)(t,r,i??"")):Ze(this.node(),t)}function Ze(t,r){return t.style.getPropertyValue(r)||Gn(t).getComputedStyle(t,null).getPropertyValue(r)}function ds(t){return function(){delete this[t]}}function hs(t,r){return function(){this[t]=r}}function ps(t,r){return function(){var i=r.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function vs(t,r){return arguments.length>1?this.each((r==null?ds:typeof r=="function"?ps:hs)(t,r)):this.node()[t]}function jn(t){return t.trim().split(/^|\s+/)}function Sr(t){return t.classList||new Yn(t)}function Yn(t){this._node=t,this._names=jn(t.getAttribute("class")||"")}Yn.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xn(t,r){for(var i=Sr(t),a=-1,l=r.length;++a<l;)i.add(r[a])}function Kn(t,r){for(var i=Sr(t),a=-1,l=r.length;++a<l;)i.remove(r[a])}function ms(t){return function(){Xn(this,t)}}function _s(t){return function(){Kn(this,t)}}function gs(t,r){return function(){(r.apply(this,arguments)?Xn:Kn)(this,t)}}function ys(t,r){var i=jn(t+"");if(arguments.length<2){for(var a=Sr(this.node()),l=-1,u=i.length;++l<u;)if(!a.contains(i[l]))return!1;return!0}return this.each((typeof r=="function"?gs:r?ms:_s)(i,r))}function ws(){this.textContent=""}function Es(t){return function(){this.textContent=t}}function bs(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function xs(t){return arguments.length?this.each(t==null?ws:(typeof t=="function"?bs:Es)(t)):this.node().textContent}function Ts(){this.innerHTML=""}function ks(t){return function(){this.innerHTML=t}}function Ss(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function As(t){return arguments.length?this.each(t==null?Ts:(typeof t=="function"?Ss:ks)(t)):this.node().innerHTML}function Fs(){this.nextSibling&&this.parentNode.appendChild(this)}function Cs(){return this.each(Fs)}function Ms(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ps(){return this.each(Ms)}function Ns(t){var r=typeof t=="function"?t:zn(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function Rs(){return null}function Os(t,r){var i=typeof t=="function"?t:zn(t),a=r==null?Rs:typeof r=="function"?r:kr(r);return this.select(function(){return this.insertBefore(i.apply(this,arguments),a.apply(this,arguments)||null)})}function Ds(){var t=this.parentNode;t&&t.removeChild(this)}function Is(){return this.each(Ds)}function $s(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Ls(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function Us(t){return this.select(t?Ls:$s)}function Bs(t){return arguments.length?this.property("__data__",t):this.node().__data__}function zs(t){return function(r){t.call(this,r,this.__data__)}}function Hs(t){return t.trim().split(/^|\s+/).map(function(r){var i="",a=r.indexOf(".");return a>=0&&(i=r.slice(a+1),r=r.slice(0,a)),{type:r,name:i}})}function Ws(t){return function(){var r=this.__on;if(r){for(var i=0,a=-1,l=r.length,u;i<l;++i)u=r[i],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):r[++a]=u;++a?r.length=a:delete this.__on}}}function qs(t,r,i){return function(){var a=this.__on,l,u=zs(r);if(a){for(var f=0,h=a.length;f<h;++f)if((l=a[f]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=i),l.value=r;return}}this.addEventListener(t.type,u,i),l={type:t.type,name:t.name,value:r,listener:u,options:i},a?a.push(l):this.__on=[l]}}function Vs(t,r,i){var a=Hs(t+""),l,u=a.length,f;if(arguments.length<2){var h=this.node().__on;if(h){for(var v=0,m=h.length,g;v<m;++v)for(l=0,g=h[v];l<u;++l)if((f=a[l]).type===g.type&&f.name===g.name)return g.value}return}for(h=r?qs:Ws,l=0;l<u;++l)this.each(h(a[l],r,i));return this}function Jn(t,r,i){var a=Gn(t),l=a.CustomEvent;typeof l=="function"?l=new l(r,i):(l=a.document.createEvent("Event"),i?(l.initEvent(r,i.bubbles,i.cancelable),l.detail=i.detail):l.initEvent(r,!1,!1)),t.dispatchEvent(l)}function Gs(t,r){return function(){return Jn(this,t,r)}}function js(t,r){return function(){return Jn(this,t,r.apply(this,arguments))}}function Ys(t,r){return this.each((typeof r=="function"?js:Gs)(t,r))}function*Xs(){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var a=t[r],l=0,u=a.length,f;l<u;++l)(f=a[l])&&(yield f)}var Qn=[null];function de(t,r){this._groups=t,this._parents=r}function bt(){return new de([[document.documentElement]],Qn)}function Ks(){return this}de.prototype=bt.prototype={constructor:de,select:ba,selectAll:Sa,selectChild:Ma,selectChildren:Oa,filter:Da,data:za,enter:Ia,exit:Wa,join:qa,merge:Va,selection:Ks,order:Ga,sort:ja,call:Xa,nodes:Ka,node:Ja,size:Qa,empty:Za,each:es,attr:ss,style:fs,property:vs,classed:ys,text:xs,html:As,raise:Cs,lower:Ps,append:Ns,insert:Os,remove:Is,clone:Us,datum:Bs,on:Vs,dispatch:Ys,[Symbol.iterator]:Xs};function et(t){return typeof t=="string"?new de([[document.querySelector(t)]],[document.documentElement]):new de([[t]],Qn)}function Js(t){let r;for(;r=t.sourceEvent;)t=r;return t}function Yt(t,r){if(t=Js(t),r===void 0&&(r=t.currentTarget),r){var i=r.ownerSVGElement||r;if(i.createSVGPoint){var a=i.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(r.getScreenCTM().inverse()),[a.x,a.y]}if(r.getBoundingClientRect){var l=r.getBoundingClientRect();return[t.clientX-l.left-r.clientLeft,t.clientY-l.top-r.clientTop]}}return[t.pageX,t.pageY]}function Ar(t,r,i){t.prototype=r.prototype=i,i.constructor=t}function Zn(t,r){var i=Object.create(t.prototype);for(var a in r)i[a]=r[a];return i}function xt(){}var gt=.7,Ht=1/gt,Qe="\\s*([+-]?\\d+)\\s*",yt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Qs=/^#([0-9a-f]{3,8})$/,Zs=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),el=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),tl=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${yt}\\)$`),rl=new RegExp(`^rgba\\(${xe},${xe},${xe},${yt}\\)$`),nl=new RegExp(`^hsl\\(${yt},${xe},${xe}\\)$`),il=new RegExp(`^hsla\\(${yt},${xe},${xe},${yt}\\)$`),mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ar(xt,wt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_n,formatHex:_n,formatHex8:ol,formatHsl:al,formatRgb:gn,toString:gn});function _n(){return this.rgb().formatHex()}function ol(){return this.rgb().formatHex8()}function al(){return ei(this).formatHsl()}function gn(){return this.rgb().formatRgb()}function wt(t){var r,i;return t=(t+"").trim().toLowerCase(),(r=Qs.exec(t))?(i=r[1].length,r=parseInt(r[1],16),i===6?yn(r):i===3?new le(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):i===8?Nt(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):i===4?Nt(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Zs.exec(t))?new le(r[1],r[2],r[3],1):(r=el.exec(t))?new le(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=tl.exec(t))?Nt(r[1],r[2],r[3],r[4]):(r=rl.exec(t))?Nt(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=nl.exec(t))?bn(r[1],r[2]/100,r[3]/100,1):(r=il.exec(t))?bn(r[1],r[2]/100,r[3]/100,r[4]):mn.hasOwnProperty(t)?yn(mn[t]):t==="transparent"?new le(NaN,NaN,NaN,0):null}function yn(t){return new le(t>>16&255,t>>8&255,t&255,1)}function Nt(t,r,i,a){return a<=0&&(t=r=i=NaN),new le(t,r,i,a)}function sl(t){return t instanceof xt||(t=wt(t)),t?(t=t.rgb(),new le(t.r,t.g,t.b,t.opacity)):new le}function _r(t,r,i,a){return arguments.length===1?sl(t):new le(t,r,i,a??1)}function le(t,r,i,a){this.r=+t,this.g=+r,this.b=+i,this.opacity=+a}Ar(le,_r,Zn(xt,{brighter(t){return t=t==null?Ht:Math.pow(Ht,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gt:Math.pow(gt,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new le(He(this.r),He(this.g),He(this.b),Wt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wn,formatHex:wn,formatHex8:ll,formatRgb:En,toString:En}));function wn(){return`#${ze(this.r)}${ze(this.g)}${ze(this.b)}`}function ll(){return`#${ze(this.r)}${ze(this.g)}${ze(this.b)}${ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function En(){const t=Wt(this.opacity);return`${t===1?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${t===1?")":`, ${t})`}`}function Wt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function He(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ze(t){return t=He(t),(t<16?"0":"")+t.toString(16)}function bn(t,r,i,a){return a<=0?t=r=i=NaN:i<=0||i>=1?t=r=NaN:r<=0&&(t=NaN),new ge(t,r,i,a)}function ei(t){if(t instanceof ge)return new ge(t.h,t.s,t.l,t.opacity);if(t instanceof xt||(t=wt(t)),!t)return new ge;if(t instanceof ge)return t;t=t.rgb();var r=t.r/255,i=t.g/255,a=t.b/255,l=Math.min(r,i,a),u=Math.max(r,i,a),f=NaN,h=u-l,v=(u+l)/2;return h?(r===u?f=(i-a)/h+(i<a)*6:i===u?f=(a-r)/h+2:f=(r-i)/h+4,h/=v<.5?u+l:2-u-l,f*=60):h=v>0&&v<1?0:f,new ge(f,h,v,t.opacity)}function ul(t,r,i,a){return arguments.length===1?ei(t):new ge(t,r,i,a??1)}function ge(t,r,i,a){this.h=+t,this.s=+r,this.l=+i,this.opacity=+a}Ar(ge,ul,Zn(xt,{brighter(t){return t=t==null?Ht:Math.pow(Ht,t),new ge(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gt:Math.pow(gt,t),new ge(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,a=i+(i<.5?i:1-i)*r,l=2*i-a;return new le(dr(t>=240?t-240:t+120,l,a),dr(t,l,a),dr(t<120?t+240:t-120,l,a),this.opacity)},clamp(){return new ge(xn(this.h),Rt(this.s),Rt(this.l),Wt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Wt(this.opacity);return`${t===1?"hsl(":"hsla("}${xn(this.h)}, ${Rt(this.s)*100}%, ${Rt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xn(t){return t=(t||0)%360,t<0?t+360:t}function Rt(t){return Math.max(0,Math.min(1,t||0))}function dr(t,r,i){return(t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r)*255}const ti=t=>()=>t;function cl(t,r){return function(i){return t+i*r}}function fl(t,r,i){return t=Math.pow(t,i),r=Math.pow(r,i)-t,i=1/i,function(a){return Math.pow(t+a*r,i)}}function dl(t){return(t=+t)==1?ri:function(r,i){return i-r?fl(r,i,t):ti(isNaN(r)?i:r)}}function ri(t,r){var i=r-t;return i?cl(t,i):ti(isNaN(t)?r:t)}const Tn=function t(r){var i=dl(r);function a(l,u){var f=i((l=_r(l)).r,(u=_r(u)).r),h=i(l.g,u.g),v=i(l.b,u.b),m=ri(l.opacity,u.opacity);return function(g){return l.r=f(g),l.g=h(g),l.b=v(g),l.opacity=m(g),l+""}}return a.gamma=t,a}(1);function Oe(t,r){return t=+t,r=+r,function(i){return t*(1-i)+r*i}}var gr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hr=new RegExp(gr.source,"g");function hl(t){return function(){return t}}function pl(t){return function(r){return t(r)+""}}function vl(t,r){var i=gr.lastIndex=hr.lastIndex=0,a,l,u,f=-1,h=[],v=[];for(t=t+"",r=r+"";(a=gr.exec(t))&&(l=hr.exec(r));)(u=l.index)>i&&(u=r.slice(i,u),h[f]?h[f]+=u:h[++f]=u),(a=a[0])===(l=l[0])?h[f]?h[f]+=l:h[++f]=l:(h[++f]=null,v.push({i:f,x:Oe(a,l)})),i=hr.lastIndex;return i<r.length&&(u=r.slice(i),h[f]?h[f]+=u:h[++f]=u),h.length<2?v[0]?pl(v[0].x):hl(r):(r=v.length,function(m){for(var g=0,w;g<r;++g)h[(w=v[g]).i]=w.x(m);return h.join("")})}var kn=180/Math.PI,yr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ni(t,r,i,a,l,u){var f,h,v;return(f=Math.sqrt(t*t+r*r))&&(t/=f,r/=f),(v=t*i+r*a)&&(i-=t*v,a-=r*v),(h=Math.sqrt(i*i+a*a))&&(i/=h,a/=h,v/=h),t*a<r*i&&(t=-t,r=-r,v=-v,f=-f),{translateX:l,translateY:u,rotate:Math.atan2(r,t)*kn,skewX:Math.atan(v)*kn,scaleX:f,scaleY:h}}var Ot;function ml(t){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?yr:ni(r.a,r.b,r.c,r.d,r.e,r.f)}function _l(t){return t==null||(Ot||(Ot=document.createElementNS("http://www.w3.org/2000/svg","g")),Ot.setAttribute("transform",t),!(t=Ot.transform.baseVal.consolidate()))?yr:(t=t.matrix,ni(t.a,t.b,t.c,t.d,t.e,t.f))}function ii(t,r,i,a){function l(m){return m.length?m.pop()+" ":""}function u(m,g,w,b,E,x){if(m!==w||g!==b){var k=E.push("translate(",null,r,null,i);x.push({i:k-4,x:Oe(m,w)},{i:k-2,x:Oe(g,b)})}else(w||b)&&E.push("translate("+w+r+b+i)}function f(m,g,w,b){m!==g?(m-g>180?g+=360:g-m>180&&(m+=360),b.push({i:w.push(l(w)+"rotate(",null,a)-2,x:Oe(m,g)})):g&&w.push(l(w)+"rotate("+g+a)}function h(m,g,w,b){m!==g?b.push({i:w.push(l(w)+"skewX(",null,a)-2,x:Oe(m,g)}):g&&w.push(l(w)+"skewX("+g+a)}function v(m,g,w,b,E,x){if(m!==w||g!==b){var k=E.push(l(E)+"scale(",null,",",null,")");x.push({i:k-4,x:Oe(m,w)},{i:k-2,x:Oe(g,b)})}else(w!==1||b!==1)&&E.push(l(E)+"scale("+w+","+b+")")}return function(m,g){var w=[],b=[];return m=t(m),g=t(g),u(m.translateX,m.translateY,g.translateX,g.translateY,w,b),f(m.rotate,g.rotate,w,b),h(m.skewX,g.skewX,w,b),v(m.scaleX,m.scaleY,g.scaleX,g.scaleY,w,b),m=g=null,function(E){for(var x=-1,k=b.length,P;++x<k;)w[(P=b[x]).i]=P.x(E);return w.join("")}}}var gl=ii(ml,"px, ","px)","deg)"),yl=ii(_l,", ",")",")"),tt=0,ht=0,ft=0,oi=1e3,qt,pt,Vt=0,We=0,Xt=0,Et=typeof performance=="object"&&performance.now?performance:Date,ai=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Fr(){return We||(ai(wl),We=Et.now()+Xt)}function wl(){We=0}function Gt(){this._call=this._time=this._next=null}Gt.prototype=si.prototype={constructor:Gt,restart:function(t,r,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?Fr():+i)+(r==null?0:+r),!this._next&&pt!==this&&(pt?pt._next=this:qt=this,pt=this),this._call=t,this._time=i,wr()},stop:function(){this._call&&(this._call=null,this._time=1/0,wr())}};function si(t,r,i){var a=new Gt;return a.restart(t,r,i),a}function El(){Fr(),++tt;for(var t=qt,r;t;)(r=We-t._time)>=0&&t._call.call(void 0,r),t=t._next;--tt}function Sn(){We=(Vt=Et.now())+Xt,tt=ht=0;try{El()}finally{tt=0,xl(),We=0}}function bl(){var t=Et.now(),r=t-Vt;r>oi&&(Xt-=r,Vt=t)}function xl(){for(var t,r=qt,i,a=1/0;r;)r._call?(a>r._time&&(a=r._time),t=r,r=r._next):(i=r._next,r._next=null,r=t?t._next=i:qt=i);pt=t,wr(a)}function wr(t){if(!tt){ht&&(ht=clearTimeout(ht));var r=t-We;r>24?(t<1/0&&(ht=setTimeout(Sn,t-Et.now()-Xt)),ft&&(ft=clearInterval(ft))):(ft||(Vt=Et.now(),ft=setInterval(bl,oi)),tt=1,ai(Sn))}}function An(t,r,i){var a=new Gt;return r=r==null?0:+r,a.restart(l=>{a.stop(),t(l+r)},r,i),a}var Tl=Bn("start","end","cancel","interrupt"),kl=[],li=0,Fn=1,Er=2,Ut=3,Cn=4,br=5,Bt=6;function Kt(t,r,i,a,l,u){var f=t.__transition;if(!f)t.__transition={};else if(i in f)return;Sl(t,i,{name:r,index:a,group:l,on:Tl,tween:kl,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:li})}function Cr(t,r){var i=ye(t,r);if(i.state>li)throw new Error("too late; already scheduled");return i}function Te(t,r){var i=ye(t,r);if(i.state>Ut)throw new Error("too late; already running");return i}function ye(t,r){var i=t.__transition;if(!i||!(i=i[r]))throw new Error("transition not found");return i}function Sl(t,r,i){var a=t.__transition,l;a[r]=i,i.timer=si(u,0,i.time);function u(m){i.state=Fn,i.timer.restart(f,i.delay,i.time),i.delay<=m&&f(m-i.delay)}function f(m){var g,w,b,E;if(i.state!==Fn)return v();for(g in a)if(E=a[g],E.name===i.name){if(E.state===Ut)return An(f);E.state===Cn?(E.state=Bt,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete a[g]):+g<r&&(E.state=Bt,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete a[g])}if(An(function(){i.state===Ut&&(i.state=Cn,i.timer.restart(h,i.delay,i.time),h(m))}),i.state=Er,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Er){for(i.state=Ut,l=new Array(b=i.tween.length),g=0,w=-1;g<b;++g)(E=i.tween[g].value.call(t,t.__data__,i.index,i.group))&&(l[++w]=E);l.length=w+1}}function h(m){for(var g=m<i.duration?i.ease.call(null,m/i.duration):(i.timer.restart(v),i.state=br,1),w=-1,b=l.length;++w<b;)l[w].call(t,g);i.state===br&&(i.on.call("end",t,t.__data__,i.index,i.group),v())}function v(){i.state=Bt,i.timer.stop(),delete a[r];for(var m in a)return;delete t.__transition}}function Al(t,r){var i=t.__transition,a,l,u=!0,f;if(i){r=r==null?null:r+"";for(f in i){if((a=i[f]).name!==r){u=!1;continue}l=a.state>Er&&a.state<br,a.state=Bt,a.timer.stop(),a.on.call(l?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete i[f]}u&&delete t.__transition}}function Fl(t){return this.each(function(){Al(this,t)})}function Cl(t,r){var i,a;return function(){var l=Te(this,t),u=l.tween;if(u!==i){a=i=u;for(var f=0,h=a.length;f<h;++f)if(a[f].name===r){a=a.slice(),a.splice(f,1);break}}l.tween=a}}function Ml(t,r,i){var a,l;if(typeof i!="function")throw new Error;return function(){var u=Te(this,t),f=u.tween;if(f!==a){l=(a=f).slice();for(var h={name:r,value:i},v=0,m=l.length;v<m;++v)if(l[v].name===r){l[v]=h;break}v===m&&l.push(h)}u.tween=l}}function Pl(t,r){var i=this._id;if(t+="",arguments.length<2){for(var a=ye(this.node(),i).tween,l=0,u=a.length,f;l<u;++l)if((f=a[l]).name===t)return f.value;return null}return this.each((r==null?Cl:Ml)(i,t,r))}function Mr(t,r,i){var a=t._id;return t.each(function(){var l=Te(this,a);(l.value||(l.value={}))[r]=i.apply(this,arguments)}),function(l){return ye(l,a).value[r]}}function ui(t,r){var i;return(typeof r=="number"?Oe:r instanceof wt?Tn:(i=wt(r))?(r=i,Tn):vl)(t,r)}function Nl(t){return function(){this.removeAttribute(t)}}function Rl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ol(t,r,i){var a,l=i+"",u;return function(){var f=this.getAttribute(t);return f===l?null:f===a?u:u=r(a=f,i)}}function Dl(t,r,i){var a,l=i+"",u;return function(){var f=this.getAttributeNS(t.space,t.local);return f===l?null:f===a?u:u=r(a=f,i)}}function Il(t,r,i){var a,l,u;return function(){var f,h=i(this),v;return h==null?void this.removeAttribute(t):(f=this.getAttribute(t),v=h+"",f===v?null:f===a&&v===l?u:(l=v,u=r(a=f,h)))}}function $l(t,r,i){var a,l,u;return function(){var f,h=i(this),v;return h==null?void this.removeAttributeNS(t.space,t.local):(f=this.getAttributeNS(t.space,t.local),v=h+"",f===v?null:f===a&&v===l?u:(l=v,u=r(a=f,h)))}}function Ll(t,r){var i=jt(t),a=i==="transform"?yl:ui;return this.attrTween(t,typeof r=="function"?(i.local?$l:Il)(i,a,Mr(this,"attr."+t,r)):r==null?(i.local?Rl:Nl)(i):(i.local?Dl:Ol)(i,a,r))}function Ul(t,r){return function(i){this.setAttribute(t,r.call(this,i))}}function Bl(t,r){return function(i){this.setAttributeNS(t.space,t.local,r.call(this,i))}}function zl(t,r){var i,a;function l(){var u=r.apply(this,arguments);return u!==a&&(i=(a=u)&&Bl(t,u)),i}return l._value=r,l}function Hl(t,r){var i,a;function l(){var u=r.apply(this,arguments);return u!==a&&(i=(a=u)&&Ul(t,u)),i}return l._value=r,l}function Wl(t,r){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;var a=jt(t);return this.tween(i,(a.local?zl:Hl)(a,r))}function ql(t,r){return function(){Cr(this,t).delay=+r.apply(this,arguments)}}function Vl(t,r){return r=+r,function(){Cr(this,t).delay=r}}function Gl(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?ql:Vl)(r,t)):ye(this.node(),r).delay}function jl(t,r){return function(){Te(this,t).duration=+r.apply(this,arguments)}}function Yl(t,r){return r=+r,function(){Te(this,t).duration=r}}function Xl(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?jl:Yl)(r,t)):ye(this.node(),r).duration}function Kl(t,r){if(typeof r!="function")throw new Error;return function(){Te(this,t).ease=r}}function Jl(t){var r=this._id;return arguments.length?this.each(Kl(r,t)):ye(this.node(),r).ease}function Ql(t,r){return function(){var i=r.apply(this,arguments);if(typeof i!="function")throw new Error;Te(this,t).ease=i}}function Zl(t){if(typeof t!="function")throw new Error;return this.each(Ql(this._id,t))}function eu(t){typeof t!="function"&&(t=Wn(t));for(var r=this._groups,i=r.length,a=new Array(i),l=0;l<i;++l)for(var u=r[l],f=u.length,h=a[l]=[],v,m=0;m<f;++m)(v=u[m])&&t.call(v,v.__data__,m,u)&&h.push(v);return new Me(a,this._parents,this._name,this._id)}function tu(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,i=t._groups,a=r.length,l=i.length,u=Math.min(a,l),f=new Array(a),h=0;h<u;++h)for(var v=r[h],m=i[h],g=v.length,w=f[h]=new Array(g),b,E=0;E<g;++E)(b=v[E]||m[E])&&(w[E]=b);for(;h<a;++h)f[h]=r[h];return new Me(f,this._parents,this._name,this._id)}function ru(t){return(t+"").trim().split(/^|\s+/).every(function(r){var i=r.indexOf(".");return i>=0&&(r=r.slice(0,i)),!r||r==="start"})}function nu(t,r,i){var a,l,u=ru(r)?Cr:Te;return function(){var f=u(this,t),h=f.on;h!==a&&(l=(a=h).copy()).on(r,i),f.on=l}}function iu(t,r){var i=this._id;return arguments.length<2?ye(this.node(),i).on.on(t):this.each(nu(i,t,r))}function ou(t){return function(){var r=this.parentNode;for(var i in this.__transition)if(+i!==t)return;r&&r.removeChild(this)}}function au(){return this.on("end.remove",ou(this._id))}function su(t){var r=this._name,i=this._id;typeof t!="function"&&(t=kr(t));for(var a=this._groups,l=a.length,u=new Array(l),f=0;f<l;++f)for(var h=a[f],v=h.length,m=u[f]=new Array(v),g,w,b=0;b<v;++b)(g=h[b])&&(w=t.call(g,g.__data__,b,h))&&("__data__"in g&&(w.__data__=g.__data__),m[b]=w,Kt(m[b],r,i,b,m,ye(g,i)));return new Me(u,this._parents,r,i)}function lu(t){var r=this._name,i=this._id;typeof t!="function"&&(t=Hn(t));for(var a=this._groups,l=a.length,u=[],f=[],h=0;h<l;++h)for(var v=a[h],m=v.length,g,w=0;w<m;++w)if(g=v[w]){for(var b=t.call(g,g.__data__,w,v),E,x=ye(g,i),k=0,P=b.length;k<P;++k)(E=b[k])&&Kt(E,r,i,k,b,x);u.push(b),f.push(g)}return new Me(u,f,r,i)}var uu=bt.prototype.constructor;function cu(){return new uu(this._groups,this._parents)}function fu(t,r){var i,a,l;return function(){var u=Ze(this,t),f=(this.style.removeProperty(t),Ze(this,t));return u===f?null:u===i&&f===a?l:l=r(i=u,a=f)}}function ci(t){return function(){this.style.removeProperty(t)}}function du(t,r,i){var a,l=i+"",u;return function(){var f=Ze(this,t);return f===l?null:f===a?u:u=r(a=f,i)}}function hu(t,r,i){var a,l,u;return function(){var f=Ze(this,t),h=i(this),v=h+"";return h==null&&(v=h=(this.style.removeProperty(t),Ze(this,t))),f===v?null:f===a&&v===l?u:(l=v,u=r(a=f,h))}}function pu(t,r){var i,a,l,u="style."+r,f="end."+u,h;return function(){var v=Te(this,t),m=v.on,g=v.value[u]==null?h||(h=ci(r)):void 0;(m!==i||l!==g)&&(a=(i=m).copy()).on(f,l=g),v.on=a}}function vu(t,r,i){var a=(t+="")=="transform"?gl:ui;return r==null?this.styleTween(t,fu(t,a)).on("end.style."+t,ci(t)):typeof r=="function"?this.styleTween(t,hu(t,a,Mr(this,"style."+t,r))).each(pu(this._id,t)):this.styleTween(t,du(t,a,r),i).on("end.style."+t,null)}function mu(t,r,i){return function(a){this.style.setProperty(t,r.call(this,a),i)}}function _u(t,r,i){var a,l;function u(){var f=r.apply(this,arguments);return f!==l&&(a=(l=f)&&mu(t,f,i)),a}return u._value=r,u}function gu(t,r,i){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(r==null)return this.tween(a,null);if(typeof r!="function")throw new Error;return this.tween(a,_u(t,r,i??""))}function yu(t){return function(){this.textContent=t}}function wu(t){return function(){var r=t(this);this.textContent=r??""}}function Eu(t){return this.tween("text",typeof t=="function"?wu(Mr(this,"text",t)):yu(t==null?"":t+""))}function bu(t){return function(r){this.textContent=t.call(this,r)}}function xu(t){var r,i;function a(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&bu(l)),r}return a._value=t,a}function Tu(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,xu(t))}function ku(){for(var t=this._name,r=this._id,i=fi(),a=this._groups,l=a.length,u=0;u<l;++u)for(var f=a[u],h=f.length,v,m=0;m<h;++m)if(v=f[m]){var g=ye(v,r);Kt(v,t,i,m,f,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Me(a,this._parents,t,i)}function Su(){var t,r,i=this,a=i._id,l=i.size();return new Promise(function(u,f){var h={value:f},v={value:function(){--l===0&&u()}};i.each(function(){var m=Te(this,a),g=m.on;g!==t&&(r=(t=g).copy(),r._.cancel.push(h),r._.interrupt.push(h),r._.end.push(v)),m.on=r}),l===0&&u()})}var Au=0;function Me(t,r,i,a){this._groups=t,this._parents=r,this._name=i,this._id=a}function fi(){return++Au}var Ae=bt.prototype;Me.prototype={constructor:Me,select:su,selectAll:lu,selectChild:Ae.selectChild,selectChildren:Ae.selectChildren,filter:eu,merge:tu,selection:cu,transition:ku,call:Ae.call,nodes:Ae.nodes,node:Ae.node,size:Ae.size,empty:Ae.empty,each:Ae.each,on:iu,attr:Ll,attrTween:Wl,style:vu,styleTween:gu,text:Eu,textTween:Tu,remove:au,tween:Pl,delay:Gl,duration:Xl,ease:Jl,easeVarying:Zl,end:Su,[Symbol.iterator]:Ae[Symbol.iterator]};function Fu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Cu={time:null,delay:0,duration:250,ease:Fu};function Mu(t,r){for(var i;!(i=t.__transition)||!(i=i[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return i}function Pu(t){var r,i;t instanceof Me?(r=t._id,t=t._name):(r=fi(),(i=Cu).time=Fr(),t=t==null?null:t+"");for(var a=this._groups,l=a.length,u=0;u<l;++u)for(var f=a[u],h=f.length,v,m=0;m<h;++m)(v=f[m])&&Kt(v,t,r,m,f,i||Mu(v,r));return new Me(a,this._parents,t,r)}bt.prototype.interrupt=Fl;bt.prototype.transition=Pu;const xr=Math.PI,Tr=2*xr,Be=1e-6,Nu=Tr-Be;function di(t){this._+=t[0];for(let r=1,i=t.length;r<i;++r)this._+=arguments[r]+t[r]}function Ru(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return di;const i=10**r;return function(a){this._+=a[0];for(let l=1,u=a.length;l<u;++l)this._+=Math.round(arguments[l]*i)/i+a[l]}}class hi{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?di:Ru(r)}moveTo(r,i){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,i){this._append`L${this._x1=+r},${this._y1=+i}`}quadraticCurveTo(r,i,a,l){this._append`Q${+r},${+i},${this._x1=+a},${this._y1=+l}`}bezierCurveTo(r,i,a,l,u,f){this._append`C${+r},${+i},${+a},${+l},${this._x1=+u},${this._y1=+f}`}arcTo(r,i,a,l,u){if(r=+r,i=+i,a=+a,l=+l,u=+u,u<0)throw new Error(`negative radius: ${u}`);let f=this._x1,h=this._y1,v=a-r,m=l-i,g=f-r,w=h-i,b=g*g+w*w;if(this._x1===null)this._append`M${this._x1=r},${this._y1=i}`;else if(b>Be)if(!(Math.abs(w*v-m*g)>Be)||!u)this._append`L${this._x1=r},${this._y1=i}`;else{let E=a-f,x=l-h,k=v*v+m*m,P=E*E+x*x,F=Math.sqrt(k),N=Math.sqrt(b),D=u*Math.tan((xr-Math.acos((k+b-P)/(2*F*N)))/2),$=D/N,q=D/F;Math.abs($-1)>Be&&this._append`L${r+$*g},${i+$*w}`,this._append`A${u},${u},0,0,${+(w*E>g*x)},${this._x1=r+q*v},${this._y1=i+q*m}`}}arc(r,i,a,l,u,f){if(r=+r,i=+i,a=+a,f=!!f,a<0)throw new Error(`negative radius: ${a}`);let h=a*Math.cos(l),v=a*Math.sin(l),m=r+h,g=i+v,w=1^f,b=f?l-u:u-l;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>Be||Math.abs(this._y1-g)>Be)&&this._append`L${m},${g}`,a&&(b<0&&(b=b%Tr+Tr),b>Nu?this._append`A${a},${a},0,1,${w},${r-h},${i-v}A${a},${a},0,1,${w},${this._x1=m},${this._y1=g}`:b>Be&&this._append`A${a},${a},0,${+(b>=xr)},${w},${this._x1=r+a*Math.cos(u)},${this._y1=i+a*Math.sin(u)}`)}rect(r,i,a,l){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+i}h${a=+a}v${+l}h${-a}Z`}toString(){return this._}}function Pr(){return new hi}Pr.prototype=hi.prototype;const Ce=11102230246251565e-32,ie=134217729,Ou=(3+8*Ce)*Ce;function pr(t,r,i,a,l){let u,f,h,v,m=r[0],g=a[0],w=0,b=0;g>m==g>-m?(u=m,m=r[++w]):(u=g,g=a[++b]);let E=0;if(w<t&&b<i)for(g>m==g>-m?(f=m+u,h=u-(f-m),m=r[++w]):(f=g+u,h=u-(f-g),g=a[++b]),u=f,h!==0&&(l[E++]=h);w<t&&b<i;)g>m==g>-m?(f=u+m,v=f-u,h=u-(f-v)+(m-v),m=r[++w]):(f=u+g,v=f-u,h=u-(f-v)+(g-v),g=a[++b]),u=f,h!==0&&(l[E++]=h);for(;w<t;)f=u+m,v=f-u,h=u-(f-v)+(m-v),m=r[++w],u=f,h!==0&&(l[E++]=h);for(;b<i;)f=u+g,v=f-u,h=u-(f-v)+(g-v),g=a[++b],u=f,h!==0&&(l[E++]=h);return(u!==0||E===0)&&(l[E++]=u),E}function Du(t,r){let i=r[0];for(let a=1;a<t;a++)i+=r[a];return i}function Tt(t){return new Float64Array(t)}const Iu=(3+16*Ce)*Ce,$u=(2+12*Ce)*Ce,Lu=(9+64*Ce)*Ce*Ce,Ke=Tt(4),Mn=Tt(8),Pn=Tt(12),Nn=Tt(16),oe=Tt(4);function Uu(t,r,i,a,l,u,f){let h,v,m,g,w,b,E,x,k,P,F,N,D,$,q,X,J,B;const C=t-l,W=i-l,L=r-u,S=a-u;$=C*S,b=ie*C,E=b-(b-C),x=C-E,b=ie*S,k=b-(b-S),P=S-k,q=x*P-($-E*k-x*k-E*P),X=L*W,b=ie*L,E=b-(b-L),x=L-E,b=ie*W,k=b-(b-W),P=W-k,J=x*P-(X-E*k-x*k-E*P),F=q-J,w=q-F,Ke[0]=q-(F+w)+(w-J),N=$+F,w=N-$,D=$-(N-w)+(F-w),F=D-X,w=D-F,Ke[1]=D-(F+w)+(w-X),B=N+F,w=B-N,Ke[2]=N-(B-w)+(F-w),Ke[3]=B;let G=Du(4,Ke),K=$u*f;if(G>=K||-G>=K||(w=t-C,h=t-(C+w)+(w-l),w=i-W,m=i-(W+w)+(w-l),w=r-L,v=r-(L+w)+(w-u),w=a-S,g=a-(S+w)+(w-u),h===0&&v===0&&m===0&&g===0)||(K=Lu*f+Ou*Math.abs(G),G+=C*g+S*h-(L*m+W*v),G>=K||-G>=K))return G;$=h*S,b=ie*h,E=b-(b-h),x=h-E,b=ie*S,k=b-(b-S),P=S-k,q=x*P-($-E*k-x*k-E*P),X=v*W,b=ie*v,E=b-(b-v),x=v-E,b=ie*W,k=b-(b-W),P=W-k,J=x*P-(X-E*k-x*k-E*P),F=q-J,w=q-F,oe[0]=q-(F+w)+(w-J),N=$+F,w=N-$,D=$-(N-w)+(F-w),F=D-X,w=D-F,oe[1]=D-(F+w)+(w-X),B=N+F,w=B-N,oe[2]=N-(B-w)+(F-w),oe[3]=B;const re=pr(4,Ke,4,oe,Mn);$=C*g,b=ie*C,E=b-(b-C),x=C-E,b=ie*g,k=b-(b-g),P=g-k,q=x*P-($-E*k-x*k-E*P),X=L*m,b=ie*L,E=b-(b-L),x=L-E,b=ie*m,k=b-(b-m),P=m-k,J=x*P-(X-E*k-x*k-E*P),F=q-J,w=q-F,oe[0]=q-(F+w)+(w-J),N=$+F,w=N-$,D=$-(N-w)+(F-w),F=D-X,w=D-F,oe[1]=D-(F+w)+(w-X),B=N+F,w=B-N,oe[2]=N-(B-w)+(F-w),oe[3]=B;const Y=pr(re,Mn,4,oe,Pn);$=h*g,b=ie*h,E=b-(b-h),x=h-E,b=ie*g,k=b-(b-g),P=g-k,q=x*P-($-E*k-x*k-E*P),X=v*m,b=ie*v,E=b-(b-v),x=v-E,b=ie*m,k=b-(b-m),P=m-k,J=x*P-(X-E*k-x*k-E*P),F=q-J,w=q-F,oe[0]=q-(F+w)+(w-J),N=$+F,w=N-$,D=$-(N-w)+(F-w),F=D-X,w=D-F,oe[1]=D-(F+w)+(w-X),B=N+F,w=B-N,oe[2]=N-(B-w)+(F-w),oe[3]=B;const U=pr(Y,Pn,4,oe,Nn);return Nn[U-1]}function Dt(t,r,i,a,l,u){const f=(r-u)*(i-l),h=(t-l)*(a-u),v=f-h,m=Math.abs(f+h);return Math.abs(v)>=Iu*m?v:-Uu(t,r,i,a,l,u,m)}const Rn=Math.pow(2,-52),It=new Uint32Array(512);class Nr{static from(r,i=qu,a=Vu){const l=r.length,u=new Float64Array(l*2);for(let f=0;f<l;f++){const h=r[f];u[2*f]=i(h),u[2*f+1]=a(h)}return new Nr(u)}constructor(r){const i=r.length>>1;if(i>0&&typeof r[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=r;const a=Math.max(2*i-5,0);this._triangles=new Uint32Array(a*3),this._halfedges=new Int32Array(a*3),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:r,_hullPrev:i,_hullNext:a,_hullTri:l,_hullHash:u}=this,f=r.length>>1;let h=1/0,v=1/0,m=-1/0,g=-1/0;for(let C=0;C<f;C++){const W=r[2*C],L=r[2*C+1];W<h&&(h=W),L<v&&(v=L),W>m&&(m=W),L>g&&(g=L),this._ids[C]=C}const w=(h+m)/2,b=(v+g)/2;let E,x,k;for(let C=0,W=1/0;C<f;C++){const L=vr(w,b,r[2*C],r[2*C+1]);L<W&&(E=C,W=L)}const P=r[2*E],F=r[2*E+1];for(let C=0,W=1/0;C<f;C++){if(C===E)continue;const L=vr(P,F,r[2*C],r[2*C+1]);L<W&&L>0&&(x=C,W=L)}let N=r[2*x],D=r[2*x+1],$=1/0;for(let C=0;C<f;C++){if(C===E||C===x)continue;const W=Hu(P,F,N,D,r[2*C],r[2*C+1]);W<$&&(k=C,$=W)}let q=r[2*k],X=r[2*k+1];if($===1/0){for(let L=0;L<f;L++)this._dists[L]=r[2*L]-r[0]||r[2*L+1]-r[1];Je(this._ids,this._dists,0,f-1);const C=new Uint32Array(f);let W=0;for(let L=0,S=-1/0;L<f;L++){const G=this._ids[L],K=this._dists[G];K>S&&(C[W++]=G,S=K)}this.hull=C.subarray(0,W),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Dt(P,F,N,D,q,X)<0){const C=x,W=N,L=D;x=k,N=q,D=X,k=C,q=W,X=L}const J=Wu(P,F,N,D,q,X);this._cx=J.x,this._cy=J.y;for(let C=0;C<f;C++)this._dists[C]=vr(r[2*C],r[2*C+1],J.x,J.y);Je(this._ids,this._dists,0,f-1),this._hullStart=E;let B=3;a[E]=i[k]=x,a[x]=i[E]=k,a[k]=i[x]=E,l[E]=0,l[x]=1,l[k]=2,u.fill(-1),u[this._hashKey(P,F)]=E,u[this._hashKey(N,D)]=x,u[this._hashKey(q,X)]=k,this.trianglesLen=0,this._addTriangle(E,x,k,-1,-1,-1);for(let C=0,W,L;C<this._ids.length;C++){const S=this._ids[C],G=r[2*S],K=r[2*S+1];if(C>0&&Math.abs(G-W)<=Rn&&Math.abs(K-L)<=Rn||(W=G,L=K,S===E||S===x||S===k))continue;let re=0;for(let qe=0,Jt=this._hashKey(G,K);qe<this._hashSize&&(re=u[(Jt+qe)%this._hashSize],!(re!==-1&&re!==a[re]));qe++);re=i[re];let Y=re,U;for(;U=a[Y],Dt(G,K,r[2*Y],r[2*Y+1],r[2*U],r[2*U+1])>=0;)if(Y=U,Y===re){Y=-1;break}if(Y===-1)continue;let I=this._addTriangle(Y,S,a[Y],-1,-1,l[Y]);l[S]=this._legalize(I+2),l[Y]=I,B++;let ue=a[Y];for(;U=a[ue],Dt(G,K,r[2*ue],r[2*ue+1],r[2*U],r[2*U+1])<0;)I=this._addTriangle(ue,S,U,l[S],-1,l[ue]),l[S]=this._legalize(I+2),a[ue]=ue,B--,ue=U;if(Y===re)for(;U=i[Y],Dt(G,K,r[2*U],r[2*U+1],r[2*Y],r[2*Y+1])<0;)I=this._addTriangle(U,S,Y,-1,l[Y],l[U]),this._legalize(I+2),l[U]=I,a[Y]=Y,B--,Y=U;this._hullStart=i[S]=Y,a[Y]=i[ue]=S,a[S]=ue,u[this._hashKey(G,K)]=S,u[this._hashKey(r[2*Y],r[2*Y+1])]=Y}this.hull=new Uint32Array(B);for(let C=0,W=this._hullStart;C<B;C++)this.hull[C]=W,W=a[W];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(r,i){return Math.floor(Bu(r-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(r){const{_triangles:i,_halfedges:a,coords:l}=this;let u=0,f=0;for(;;){const h=a[r],v=r-r%3;if(f=v+(r+2)%3,h===-1){if(u===0)break;r=It[--u];continue}const m=h-h%3,g=v+(r+1)%3,w=m+(h+2)%3,b=i[f],E=i[r],x=i[g],k=i[w];if(zu(l[2*b],l[2*b+1],l[2*E],l[2*E+1],l[2*x],l[2*x+1],l[2*k],l[2*k+1])){i[r]=k,i[h]=b;const F=a[w];if(F===-1){let D=this._hullStart;do{if(this._hullTri[D]===w){this._hullTri[D]=r;break}D=this._hullPrev[D]}while(D!==this._hullStart)}this._link(r,F),this._link(h,a[f]),this._link(f,w);const N=m+(h+1)%3;u<It.length&&(It[u++]=N)}else{if(u===0)break;r=It[--u]}}return f}_link(r,i){this._halfedges[r]=i,i!==-1&&(this._halfedges[i]=r)}_addTriangle(r,i,a,l,u,f){const h=this.trianglesLen;return this._triangles[h]=r,this._triangles[h+1]=i,this._triangles[h+2]=a,this._link(h,l),this._link(h+1,u),this._link(h+2,f),this.trianglesLen+=3,h}}function Bu(t,r){const i=t/(Math.abs(t)+Math.abs(r));return(r>0?3-i:1+i)/4}function vr(t,r,i,a){const l=t-i,u=r-a;return l*l+u*u}function zu(t,r,i,a,l,u,f,h){const v=t-f,m=r-h,g=i-f,w=a-h,b=l-f,E=u-h,x=v*v+m*m,k=g*g+w*w,P=b*b+E*E;return v*(w*P-k*E)-m*(g*P-k*b)+x*(g*E-w*b)<0}function Hu(t,r,i,a,l,u){const f=i-t,h=a-r,v=l-t,m=u-r,g=f*f+h*h,w=v*v+m*m,b=.5/(f*m-h*v),E=(m*g-h*w)*b,x=(f*w-v*g)*b;return E*E+x*x}function Wu(t,r,i,a,l,u){const f=i-t,h=a-r,v=l-t,m=u-r,g=f*f+h*h,w=v*v+m*m,b=.5/(f*m-h*v),E=t+(m*g-h*w)*b,x=r+(f*w-v*g)*b;return{x:E,y:x}}function Je(t,r,i,a){if(a-i<=20)for(let l=i+1;l<=a;l++){const u=t[l],f=r[u];let h=l-1;for(;h>=i&&r[t[h]]>f;)t[h+1]=t[h--];t[h+1]=u}else{const l=i+a>>1;let u=i+1,f=a;dt(t,l,u),r[t[i]]>r[t[a]]&&dt(t,i,a),r[t[u]]>r[t[a]]&&dt(t,u,a),r[t[i]]>r[t[u]]&&dt(t,i,u);const h=t[u],v=r[h];for(;;){do u++;while(r[t[u]]<v);do f--;while(r[t[f]]>v);if(f<u)break;dt(t,u,f)}t[i+1]=t[f],t[f]=h,a-u+1>=f-i?(Je(t,r,u,a),Je(t,r,i,f-1)):(Je(t,r,i,f-1),Je(t,r,u,a))}}function dt(t,r,i){const a=t[r];t[r]=t[i],t[i]=a}function qu(t){return t[0]}function Vu(t){return t[1]}function vt(t,r,i){this.k=t,this.x=r,this.y=i}vt.prototype={constructor:vt,scale:function(t){return t===1?this:new vt(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new vt(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};vt.prototype;function Gu(t){const r=document.createElement("div");r.id="cursor-ball",r.style.display="none",document.body.appendChild(r),t.on("mousemove",function(i){const[a,l]=Yt(i);r.style.left=`${a+t.node().getBoundingClientRect().left}px`,r.style.top=`${l+t.node().getBoundingClientRect().top}px`}),t.on("mouseenter",function(){r.style.display="block"}),t.on("mouseleave",function(){r.style.display="none"})}function ju(t,r,i){t.selectAll("circle").each(function(){const a=et(this),l=parseFloat(a.attr("cx")),u=parseFloat(a.attr("cy"));a.attr("cx",l+r).attr("cy",u+i)}),t.selectAll("polygon").each(function(){const a=et(this),f=a.attr("points").split(" ").map(h=>h.split(",").map(Number)).map(([h,v])=>[h+r,v+i]).map(([h,v])=>`${h},${v}`).join(" ");a.attr("points",f)})}function Yu(t){if(t.length<3)return{points:t,triangles:[]};const i=Nr.from(t).triangles;return{points:t,triangles:i}}function Xu(t,r,i,a){t.selectAll("*").remove();const l=r.map(([u,f])=>[u-a[0],f-a[1]]);t.selectAll("circle").data(l).enter().append("circle").attr("cx",u=>u[0]).attr("cy",u=>u[1]).attr("r",5).attr("fill","red");for(let u=0;u<i.length;u+=3){const[f,h,v]=[l[i[u]],l[i[u+1]],l[i[u+2]]];t.append("polygon").attr("points",`${f[0]},${f[1]} ${h[0]},${h[1]} ${v[0]},${v[1]}`).attr("fill","none").attr("stroke","#333").attr("stroke-width",1)}}function Ku(t){var r={x:0,y:0};const i=5;document.addEventListener("keydown",l=>{let u=0,f=0;switch(l.key){case"w":f+=i;break;case"a":u-=i;break;case"s":f-=i;break;case"d":u+=i;break;default:return}r.x-=u,r.y+=f,ju(t,u,-f)});let a=[];t.on("click",function(l){const[u,f]=Yt(l,this),h=r.x+u,v=r.y+f;a.push([h,v]);let{points:m,triangles:g}=Yu(a);Xu(t,m,g,[r.x,r.y])})}function Ju(){const t=et("#euclidean-triangulation").style("border","1px solid #ccc").style("cursor","none");return Gu(t),Ku(t),t}function Qu(t){const r=document.createElement("div");r.id="cursor-ball",r.style.display="none",document.body.appendChild(r);function i(f){return f[0]*f[0]+f[1]*f[1]}function a(f){return Math.sqrt(i(f))}function l(f,h){return[f*Math.cos(h),f*Math.sin(h)]}let u=.03*1.4;t.on("mousemove",function(f){const[h,v]=Yt(f),m=t.select("#poincare-circle"),g=+m.attr("cx"),w=+m.attr("cy"),b=+m.attr("r"),E=[(h-g)/b,(v-w)/b],x=a(E),k=((1+x)*Math.exp(u)-(1-x))/((1+x)*Math.exp(u)+(1-x)),P=(1+x-(1-x)*Math.exp(u))/(1+x+(1-x)*Math.exp(u)),F=l(k,Math.atan2(E[1],E[0])),N=l(P,Math.atan2(E[1],E[0])),D=.5*Math.sqrt(i([F[0]-N[0],F[1]-N[1]])),$=b*4*D;r.style.left=`${h+t.node().getBoundingClientRect().left}px`,r.style.top=`${v+t.node().getBoundingClientRect().top}px`,E[0]**2+E[1]**2<1?(r.style.width=`${$}px`,r.style.height=`${$}px`):(r.style.width="12px",r.style.height="12px")}),t.on("mouseenter",function(){r.style.display="block"}),t.on("mouseleave",function(){r.style.display="none"})}const Zu="modulepreload",ec=function(t,r){return new URL(t,r).href},On={},tc=function(r,i,a){let l=Promise.resolve();if(i&&i.length>0){const f=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),v=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=Promise.allSettled(i.map(m=>{if(m=ec(m,a),m in On)return;On[m]=!0;const g=m.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(!!a)for(let x=f.length-1;x>=0;x--){const k=f[x];if(k.href===m&&(!g||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${w}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":Zu,g||(E.as="script"),E.crossOrigin="",E.href=m,v&&E.setAttribute("nonce",v),document.head.appendChild(E),g)return new Promise((x,k)=>{E.addEventListener("load",x),E.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return r().catch(u)})};var rc=(()=>{var t=import.meta.url;return async function(r={}){var i,a=r,l,u,f=new Promise((e,n)=>{l=e,u=n});["_memory","___indirect_function_table","onRuntimeInitialized"].forEach(e=>{Object.getOwnPropertyDescriptor(f,e)||Object.defineProperty(f,e,{get:()=>ee("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>ee("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})});var h=typeof window=="object",v=typeof WorkerGlobalScope<"u",m=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",g=!h&&!m&&!v;if(m){const{createRequire:e}=await tc(async()=>{const{createRequire:o}=await Promise.resolve().then(()=>dc);return{createRequire:o}},void 0,import.meta.url);let n=import.meta.url;n.startsWith("data:")&&(n="/");var w=e(n)}var b=Object.assign({},a),E="./this.program",x=(e,n)=>{throw n},k="";function P(e){return a.locateFile?a.locateFile(e,k):k+e}var F,N;if(m){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var D=process.versions.node,$=D.split(".").slice(0,3);if($=$[0]*1e4+$[1]*100+$[2].split("-")[0]*1,$<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+D+")");var q=w("fs"),X=w("path");import.meta.url.startsWith("data:")||(k=X.dirname(w("url").fileURLToPath(import.meta.url))+"/"),N=e=>{e=nt(e)?new URL(e):X.normalize(e);var n=q.readFileSync(e);return S(n.buffer),n},F=(e,n=!0)=>(e=nt(e)?new URL(e):X.normalize(e),new Promise((o,s)=>{q.readFile(e,n?void 0:"utf8",(d,p)=>{d?s(d):o(n?p.buffer:p)})})),!a.thisProgram&&process.argv.length>1&&(E=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),x=(e,n)=>{throw process.exitCode=e,n}}else if(g){if(typeof process=="object"&&typeof w=="function"||typeof window=="object"||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(h||v){if(v?k=self.location.href:typeof document<"u"&&document.currentScript&&(k=document.currentScript.src),t&&(k=t),k.startsWith("blob:")?k="":k=k.substr(0,k.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");v&&(N=e=>{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),F=e=>nt(e)?new Promise((n,o)=>{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="arraybuffer",s.onload=()=>{if(s.status==200||s.status==0&&s.response){n(s.response);return}o(s.status)},s.onerror=o,s.send(null)}):fetch(e,{credentials:"same-origin"}).then(n=>n.ok?n.arrayBuffer():Promise.reject(new Error(n.status+" : "+n.url)))}else throw new Error("environment detection error");var J=a.print||console.log.bind(console),B=a.printErr||console.error.bind(console);Object.assign(a,b),b=null,sa(),a.arguments&&a.arguments,$e("arguments","arguments_"),a.thisProgram&&(E=a.thisProgram),$e("thisProgram","thisProgram"),S(typeof a.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),S(typeof a.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),S(typeof a.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),S(typeof a.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),S(typeof a.read>"u","Module.read option was removed"),S(typeof a.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),S(typeof a.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),S(typeof a.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),S(typeof a.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),$e("asm","wasmExports"),$e("readAsync","readAsync"),$e("readBinary","readBinary"),$e("setWindowTitle","setWindowTitle"),S(!g,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var C=a.wasmBinary;$e("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&B("no native wasm support detected");var W,L=!1;function S(e,n){e||ee("Assertion failed"+(n?": "+n:""))}var G,K,re,Y,U,I,ue,qe;function Jt(){var e=W.buffer;a.HEAP8=G=new Int8Array(e),a.HEAP16=re=new Int16Array(e),a.HEAPU8=K=new Uint8Array(e),a.HEAPU16=Y=new Uint16Array(e),a.HEAP32=U=new Int32Array(e),a.HEAPU32=I=new Uint32Array(e),a.HEAPF32=ue=new Float32Array(e),a.HEAPF64=qe=new Float64Array(e)}S(!a.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),S(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),S(!a.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),S(!a.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function vi(){var e=fr();S((e&3)==0),e==0&&(e+=4),I[e>>2]=34821223,I[e+4>>2]=2310721022,I[0]=1668509029}function Qt(){if(!L){var e=fr();e==0&&(e+=4);var n=I[e>>2],o=I[e+4>>2];(n!=34821223||o!=2310721022)&&ee(`Stack overflow! Stack cookie has been overwritten at ${ot(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${ot(o)} ${ot(n)}`),I[0]!=1668509029&&ee("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Rr=[],Or=[],Dr=[],kt=!1;function mi(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)yi(a.preRun.shift());er(Rr)}function _i(){S(!kt),kt=!0,Qt(),!a.noFSInit&&!c.initialized&&c.init(),c.ignorePermissions=!1,er(Or)}function gi(){if(Qt(),a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Ei(a.postRun.shift());er(Dr)}function yi(e){Rr.unshift(e)}function wi(e){Or.unshift(e)}function Ei(e){Dr.unshift(e)}S(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),S(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),S(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),S(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var De=0,Ie=null,rt=null,Ve={};function Ir(e){for(var n=e;;){if(!Ve[e])return e;e=n+Math.random()}}function Zt(e){var n;De++,(n=a.monitorRunDependencies)==null||n.call(a,De),e?(S(!Ve[e]),Ve[e]=1,Ie===null&&typeof setInterval<"u"&&(Ie=setInterval(()=>{if(L){clearInterval(Ie),Ie=null;return}var o=!1;for(var s in Ve)o||(o=!0,B("still waiting on run dependencies:")),B(`dependency: ${s}`);o&&B("(end of list)")},1e4))):B("warning: run dependency added without ID")}function St(e){var o;if(De--,(o=a.monitorRunDependencies)==null||o.call(a,De),e?(S(Ve[e]),delete Ve[e]):B("warning: run dependency removed without ID"),De==0&&(Ie!==null&&(clearInterval(Ie),Ie=null),rt)){var n=rt;rt=null,n()}}function ee(e){var o;(o=a.onAbort)==null||o.call(a,e),e="Aborted("+e+")",B(e),L=!0;var n=new WebAssembly.RuntimeError(e);throw u(n),n}var bi="data:application/octet-stream;base64,",$r=e=>e.startsWith(bi),nt=e=>e.startsWith("file://");function we(e,n){return(...o)=>{S(kt,`native function \`${e}\` called before runtime initialization`);var s=Ne[e];return S(s,`exported native function \`${e}\` not found`),S(o.length<=n,`native function \`${e}\` called with ${o.length} args but expects ${n}`),s(...o)}}function xi(){if(a.locateFile){var e="f.wasm";return $r(e)?e:P(e)}return new URL(""+new URL("f-Dl1kZUlK.wasm",import.meta.url).href,import.meta.url).href}var it;function Lr(e){if(e==it&&C)return new Uint8Array(C);if(N)return N(e);throw"both async and sync fetching of the wasm failed"}function Ti(e){return C?Promise.resolve().then(()=>Lr(e)):F(e).then(n=>new Uint8Array(n),()=>Lr(e))}function Ur(e,n,o){return Ti(e).then(s=>WebAssembly.instantiate(s,n)).then(o,s=>{B(`failed to asynchronously prepare wasm: ${s}`),nt(it)&&B(`warning: Loading from a file URI (${it}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),ee(s)})}function ki(e,n,o,s){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!$r(n)&&!nt(n)&&!m&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(d=>{var p=WebAssembly.instantiateStreaming(d,o);return p.then(s,function(_){return B(`wasm streaming compile failed: ${_}`),B("falling back to ArrayBuffer instantiation"),Ur(n,o,s)})}):Ur(n,o,s)}function Si(){return{env:un,wasi_snapshot_preview1:un}}function Ai(){function e(d,p){return Ne=d.exports,W=Ne.memory,S(W,"memory not found in wasm exports"),Jt(),Ft=Ne.__indirect_function_table,S(Ft,"table not found in wasm exports"),wi(Ne.__wasm_call_ctors),St("wasm-instantiate"),Ne}Zt("wasm-instantiate");var n=a;function o(d){S(a===n,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),n=null,e(d.instance)}var s=Si();if(a.instantiateWasm)try{return a.instantiateWasm(s,e)}catch(d){B(`Module.instantiateWasm callback failed with error: ${d}`),u(d)}return it??(it=xi()),ki(C,it,s,o).catch(u),{}}var j,te;if((()=>{var e=new Int16Array(1),n=new Int8Array(e.buffer);if(e[0]=25459,n[0]!==115||n[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})(),a.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");function $e(e,n,o=!0){Object.getOwnPropertyDescriptor(a,e)||Object.defineProperty(a,e,{configurable:!0,get(){let s=o?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";ee(`\`Module.${e}\` has been replaced by \`${n}\``+s)}})}function Fi(e){Object.getOwnPropertyDescriptor(a,e)&&ee(`\`Module.${e}\` was supplied but \`${e}\` not included in INCOMING_MODULE_JS_API`)}function Br(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function zr(e,n){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get(){n()}})}function Hr(e,n){zr(e,()=>{Ee(`\`${e}\` is not longer defined by emscripten. ${n}`)})}Hr("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),Hr("asm","Please use wasmExports instead");function Ci(e){zr(e,()=>{var n=`\`${e}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,o=e;o.startsWith("_")||(o="$"+e),n+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${o}')`,Br(e)&&(n+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),Ee(n)}),Wr(e)}function Wr(e){Object.getOwnPropertyDescriptor(a,e)||Object.defineProperty(a,e,{configurable:!0,get(){var n=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;Br(e)&&(n+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),ee(n)}})}class Mi{constructor(n){_e(this,"name","ExitStatus");this.message=`Program terminated with exit(${n})`,this.status=n}}var er=e=>{for(;e.length>0;)e.shift()(a)},qr=a.noExitRuntime||!0,ot=e=>(S(typeof e=="number"),e>>>=0,"0x"+e.toString(16).padStart(8,"0")),Ee=e=>{Ee.shown||(Ee.shown={}),Ee.shown[e]||(Ee.shown[e]=1,m&&(e="warning: "+e),B(e))},Vr=typeof TextDecoder<"u"?new TextDecoder:void 0,Ge=(e,n=0,o=NaN)=>{for(var s=n+o,d=n;e[d]&&!(d>=s);)++d;if(d-n>16&&e.buffer&&Vr)return Vr.decode(e.subarray(n,d));for(var p="";n<d;){var _=e[n++];if(!(_&128)){p+=String.fromCharCode(_);continue}var y=e[n++]&63;if((_&224)==192){p+=String.fromCharCode((_&31)<<6|y);continue}var T=e[n++]&63;if((_&240)==224?_=(_&15)<<12|y<<6|T:((_&248)!=240&&Ee("Invalid UTF-8 leading byte "+ot(_)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),_=(_&7)<<18|y<<12|T<<6|e[n++]&63),_<65536)p+=String.fromCharCode(_);else{var A=_-65536;p+=String.fromCharCode(55296|A>>10,56320|A&1023)}}return p},je=(e,n)=>(S(typeof e=="number",`UTF8ToString expects a number (got ${typeof e})`),e?Ge(K,e,n):""),Pi=(e,n,o,s)=>{ee(`Assertion failed: ${je(e)}, at: `+[n?je(n):"unknown filename",o,s?je(s):"unknown function"])},At=[],Ft,Ct=e=>{var n=At[e];return n||(e>=At.length&&(At.length=e+1),At[e]=n=Ft.get(e)),S(Ft.get(e)==n,"JavaScript-side Wasm function table mirror is out of date!"),n},Ni=(e,n)=>Ct(e)(n);class Ri{constructor(n){this.excPtr=n,this.ptr=n-24}set_type(n){I[this.ptr+4>>2]=n}get_type(){return I[this.ptr+4>>2]}set_destructor(n){I[this.ptr+8>>2]=n}get_destructor(){return I[this.ptr+8>>2]}set_caught(n){n=n?1:0,G[this.ptr+12]=n}get_caught(){return G[this.ptr+12]!=0}set_rethrown(n){n=n?1:0,G[this.ptr+13]=n}get_rethrown(){return G[this.ptr+13]!=0}init(n,o){this.set_adjusted_ptr(0),this.set_type(n),this.set_destructor(o)}set_adjusted_ptr(n){I[this.ptr+16>>2]=n}get_adjusted_ptr(){return I[this.ptr+16>>2]}}var Oi=(e,n,o)=>{var s=new Ri(e);s.init(n,o),S(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},Di=()=>{ee("native code called abort()")},Ii=(e,n,o,s,d)=>{},$i=()=>{for(var e=new Array(256),n=0;n<256;++n)e[n]=String.fromCharCode(n);Gr=e},Gr,ve=e=>{for(var n="",o=e;K[o];)n+=Gr[K[o++]];return n},Ye={},Le={},Mt={},jr,ce=e=>{throw new jr(e)},Yr,Xr=e=>{throw new Yr(e)},Li=(e,n,o)=>{e.forEach(y=>Mt[y]=n);function s(y){var T=o(y);T.length!==e.length&&Xr("Mismatched type converter count");for(var A=0;A<e.length;++A)ke(e[A],T[A])}var d=new Array(n.length),p=[],_=0;n.forEach((y,T)=>{Le.hasOwnProperty(y)?d[T]=Le[y]:(p.push(y),Ye.hasOwnProperty(y)||(Ye[y]=[]),Ye[y].push(()=>{d[T]=Le[y],++_,_===p.length&&s(d)}))}),p.length===0&&s(d)};function Ui(e,n,o={}){var s=n.name;if(e||ce(`type "${s}" must have a positive integer typeid pointer`),Le.hasOwnProperty(e)){if(o.ignoreDuplicateRegistrations)return;ce(`Cannot register type '${s}' twice`)}if(Le[e]=n,delete Mt[e],Ye.hasOwnProperty(e)){var d=Ye[e];delete Ye[e],d.forEach(p=>p())}}function ke(e,n,o={}){if(n.argPackAdvance===void 0)throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ui(e,n,o)}var Ue=8,Bi=(e,n,o,s)=>{n=ve(n),ke(e,{name:n,fromWireType:function(d){return!!d},toWireType:function(d,p){return p?o:s},argPackAdvance:Ue,readValueFromPointer:function(d){return this.fromWireType(K[d])},destructorFunction:null})},tr=[],he=[],rr=e=>{e>9&&--he[e+1]===0&&(S(he[e]!==void 0,"Decref for unallocated handle."),he[e]=void 0,tr.push(e))},zi=()=>he.length/2-5-tr.length,Hi=()=>{he.push(0,1,void 0,1,null,1,!0,1,!1,1),S(he.length===5*2),a.count_emval_handles=zi},ae={toValue:e=>(e||ce("Cannot use deleted val. handle = "+e),S(e===2||he[e]!==void 0&&e%2===0,`invalid handle: ${e}`),he[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const n=tr.pop()||he.length;return he[n]=e,he[n+1]=1,n}}}};function nr(e){return this.fromWireType(I[e>>2])}var Wi={name:"emscripten::val",fromWireType:e=>{var n=ae.toValue(e);return rr(e),n},toWireType:(e,n)=>ae.toHandle(n),argPackAdvance:Ue,readValueFromPointer:nr,destructorFunction:null},qi=e=>ke(e,Wi),ir=e=>{if(e===null)return"null";var n=typeof e;return n==="object"||n==="array"||n==="function"?e.toString():""+e},Vi=(e,n)=>{switch(n){case 4:return function(o){return this.fromWireType(ue[o>>2])};case 8:return function(o){return this.fromWireType(qe[o>>3])};default:throw new TypeError(`invalid float width (${n}): ${e}`)}},Gi=(e,n,o)=>{n=ve(n),ke(e,{name:n,fromWireType:s=>s,toWireType:(s,d)=>{if(typeof d!="number"&&typeof d!="boolean")throw new TypeError(`Cannot convert ${ir(d)} to ${this.name}`);return d},argPackAdvance:Ue,readValueFromPointer:Vi(n,o),destructorFunction:null})},or=(e,n)=>Object.defineProperty(n,"name",{value:e}),Kr=e=>{for(;e.length;){var n=e.pop(),o=e.pop();o(n)}};function Jr(e){for(var n=1;n<e.length;++n)if(e[n]!==null&&e[n].destructorFunction===void 0)return!0;return!1}function ji(e,n){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var o=or(e.name||"unknownFunctionName",function(){});o.prototype=e.prototype;var s=new o,d=e.apply(s,n);return d instanceof Object?d:s}function Yi(e,n,o,s,d){if(e<n||e>o){var p=n==o?n:`${n} to ${o}`;d(`function ${s} called with ${e} arguments, expected ${p}`)}}function Xi(e,n,o,s){var d=Jr(e),p=e.length-2,_=[],y=["fn"];n&&y.push("thisWired");for(var T=0;T<p;++T)_.push(`arg${T}`),y.push(`arg${T}Wired`);_=_.join(","),y=y.join(",");var A=`return function (${_}) {
`;A+=`checkArgCount(arguments.length, minArgs, maxArgs, humanName, throwBindingError);
`,d&&(A+=`var destructors = [];
`);var M=d?"destructors":"null",O=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];n&&(A+=`var thisWired = classParam['toWireType'](${M}, this);
`);for(var T=0;T<p;++T)A+=`var arg${T}Wired = argType${T}['toWireType'](${M}, arg${T});
`,O.push(`argType${T}`);if(A+=(o||s?"var rv = ":"")+`invoker(${y});
`,d)A+=`runDestructors(destructors);
`;else for(var T=n?1:2;T<e.length;++T){var H=T===1?"thisWired":"arg"+(T-2)+"Wired";e[T].destructorFunction!==null&&(A+=`${H}_dtor(${H});
`,O.push(`${H}_dtor`))}return o&&(A+=`var ret = retType['fromWireType'](rv);
return ret;
`),A+=`}
`,O.push("checkArgCount","minArgs","maxArgs"),A=`if (arguments.length !== ${O.length}){ throw new Error(humanName + "Expected ${O.length} closure arguments " + arguments.length + " given."); }
${A}`,[O,A]}function Ki(e){for(var n=e.length-2,o=e.length-1;o>=2&&e[o].optional;--o)n--;return n}function Ji(e,n,o,s,d,p){var _=n.length;_<2&&ce("argTypes array size mismatch! Must at least get return value and 'this' types!"),S(!p,"Async bindings are only supported with JSPI.");for(var y=n[1]!==null&&o!==null,T=Jr(n),A=n[0].name!=="void",M=_-2,O=Ki(n),H=[e,ce,s,d,Kr,n[0],n[1]],R=0;R<_-2;++R)H.push(n[R+2]);if(!T)for(var R=y?1:2;R<n.length;++R)n[R].destructorFunction!==null&&H.push(n[R].destructorFunction);H.push(Yi,O,M);let[V,Z]=Xi(n,y,A,p);V.push(Z);var se=ji(Function,V)(...H);return or(e,se)}var Qi=(e,n,o)=>{if(e[n].overloadTable===void 0){var s=e[n];e[n]=function(...d){return e[n].overloadTable.hasOwnProperty(d.length)||ce(`Function '${o}' called with an invalid number of arguments (${d.length}) - expects one of (${e[n].overloadTable})!`),e[n].overloadTable[d.length].apply(this,d)},e[n].overloadTable=[],e[n].overloadTable[s.argCount]=s}},Zi=(e,n,o)=>{a.hasOwnProperty(e)?((o===void 0||a[e].overloadTable!==void 0&&a[e].overloadTable[o]!==void 0)&&ce(`Cannot register public name '${e}' twice`),Qi(a,e,e),a[e].overloadTable.hasOwnProperty(o)&&ce(`Cannot register multiple overloads of a function with the same number of arguments (${o})!`),a[e].overloadTable[o]=n):(a[e]=n,a[e].argCount=o)},eo=(e,n)=>{for(var o=[],s=0;s<e;s++)o.push(I[n+s*4>>2]);return o},to=(e,n,o)=>{a.hasOwnProperty(e)||Xr("Replacing nonexistent public symbol"),a[e].overloadTable!==void 0&&o!==void 0?a[e].overloadTable[o]=n:(a[e]=n,a[e].argCount=o)},ro=(e,n,o)=>{e=e.replace(/p/g,"i"),S("dynCall_"+e in a,`bad function pointer type - dynCall function not found for sig '${e}'`),o!=null&&o.length?S(o.length===e.substring(1).replace(/j/g,"--").length):S(e.length==1);var s=a["dynCall_"+e];return s(n,...o)},no=(e,n,o=[])=>{if(e.includes("j"))return ro(e,n,o);S(Ct(n),`missing table entry in dynCall: ${n}`);var s=Ct(n)(...o);return s},io=(e,n)=>(S(e.includes("j")||e.includes("p"),"getDynCaller should only be called with i64 sigs"),(...o)=>no(e,n,o)),oo=(e,n)=>{e=ve(e);function o(){return e.includes("j")?io(e,n):Ct(n)}var s=o();return typeof s!="function"&&ce(`unknown function pointer with signature ${e}: ${n}`),s},ao=(e,n)=>{var o=or(n,function(s){this.name=n,this.message=s;var d=new Error(s).stack;d!==void 0&&(this.stack=this.toString()+`
`+d.replace(/^Error(:[^\n]*)?\n/,""))});return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},o},Qr,Zr=e=>{var n=la(e),o=ve(n);return Re(n),o},so=(e,n)=>{var o=[],s={};function d(p){if(!s[p]&&!Le[p]){if(Mt[p]){Mt[p].forEach(d);return}o.push(p),s[p]=!0}}throw n.forEach(d),new Qr(`${e}: `+o.map(Zr).join([", "]))},lo=e=>{e=e.trim();const n=e.indexOf("(");return n!==-1?(S(e[e.length-1]==")","Parentheses for argument names should match."),e.substr(0,n)):e},uo=(e,n,o,s,d,p,_,y)=>{var T=eo(n,o);e=ve(e),e=lo(e),d=oo(s,d),Zi(e,function(){so(`Cannot call ${e} due to unbound types`,T)},n-1),Li([],T,A=>{var M=[A[0],null].concat(A.slice(1));return to(e,Ji(e,M,null,d,p,_),n-1),[]})},co=(e,n,o)=>{switch(n){case 1:return o?s=>G[s]:s=>K[s];case 2:return o?s=>re[s>>1]:s=>Y[s>>1];case 4:return o?s=>U[s>>2]:s=>I[s>>2];default:throw new TypeError(`invalid integer width (${n}): ${e}`)}},fo=(e,n,o,s,d)=>{n=ve(n),d===-1&&(d=4294967295);var p=M=>M;if(s===0){var _=32-8*o;p=M=>M<<_>>>_}var y=n.includes("unsigned"),T=(M,O)=>{if(typeof M!="number"&&typeof M!="boolean")throw new TypeError(`Cannot convert "${ir(M)}" to ${O}`);if(M<s||M>d)throw new TypeError(`Passing a number "${ir(M)}" from JS side to C/C++ side to an argument of type "${n}", which is outside the valid range [${s}, ${d}]!`)},A;y?A=function(M,O){return T(O,this.name),O>>>0}:A=function(M,O){return T(O,this.name),O},ke(e,{name:n,fromWireType:p,toWireType:A,argPackAdvance:Ue,readValueFromPointer:co(n,o,s!==0),destructorFunction:null})},ho=(e,n,o)=>{var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],d=s[n];function p(_){var y=I[_>>2],T=I[_+4>>2];return new d(G.buffer,T,y)}o=ve(o),ke(e,{name:o,fromWireType:p,argPackAdvance:Ue,readValueFromPointer:p},{ignoreDuplicateRegistrations:!0})},ar=(e,n,o,s)=>{if(S(typeof e=="string",`stringToUTF8Array expects a string (got ${typeof e})`),!(s>0))return 0;for(var d=o,p=o+s-1,_=0;_<e.length;++_){var y=e.charCodeAt(_);if(y>=55296&&y<=57343){var T=e.charCodeAt(++_);y=65536+((y&1023)<<10)|T&1023}if(y<=127){if(o>=p)break;n[o++]=y}else if(y<=2047){if(o+1>=p)break;n[o++]=192|y>>6,n[o++]=128|y&63}else if(y<=65535){if(o+2>=p)break;n[o++]=224|y>>12,n[o++]=128|y>>6&63,n[o++]=128|y&63}else{if(o+3>=p)break;y>1114111&&Ee("Invalid Unicode code point "+ot(y)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),n[o++]=240|y>>18,n[o++]=128|y>>12&63,n[o++]=128|y>>6&63,n[o++]=128|y&63}}return n[o]=0,o-d},at=(e,n,o)=>(S(typeof o=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),ar(e,K,n,o)),st=e=>{for(var n=0,o=0;o<e.length;++o){var s=e.charCodeAt(o);s<=127?n++:s<=2047?n+=2:s>=55296&&s<=57343?(n+=4,++o):n+=3}return n},po=(e,n)=>{n=ve(n);var o=n==="std::string";ke(e,{name:n,fromWireType(s){var d=I[s>>2],p=s+4,_;if(o)for(var y=p,T=0;T<=d;++T){var A=p+T;if(T==d||K[A]==0){var M=A-y,O=je(y,M);_===void 0?_=O:(_+="\0",_+=O),y=A+1}}else{for(var H=new Array(d),T=0;T<d;++T)H[T]=String.fromCharCode(K[p+T]);_=H.join("")}return Re(s),_},toWireType(s,d){d instanceof ArrayBuffer&&(d=new Uint8Array(d));var p,_=typeof d=="string";_||d instanceof Uint8Array||d instanceof Uint8ClampedArray||d instanceof Int8Array||ce("Cannot pass non-string to std::string"),o&&_?p=st(d):p=d.length;var y=cn(4+p+1),T=y+4;if(I[y>>2]=p,o&&_)at(d,T,p+1);else if(_)for(var A=0;A<p;++A){var M=d.charCodeAt(A);M>255&&(Re(T),ce("String has UTF-16 code units that do not fit in 8 bits")),K[T+A]=M}else for(var A=0;A<p;++A)K[T+A]=d[A];return s!==null&&s.push(Re,y),y},argPackAdvance:Ue,readValueFromPointer:nr,destructorFunction(s){Re(s)}})},en=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,vo=(e,n)=>{S(e%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var o=e,s=o>>1,d=s+n/2;!(s>=d)&&Y[s];)++s;if(o=s<<1,o-e>32&&en)return en.decode(K.subarray(e,o));for(var p="",_=0;!(_>=n/2);++_){var y=re[e+_*2>>1];if(y==0)break;p+=String.fromCharCode(y)}return p},mo=(e,n,o)=>{if(S(n%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),S(typeof o=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),o??(o=2147483647),o<2)return 0;o-=2;for(var s=n,d=o<e.length*2?o/2:e.length,p=0;p<d;++p){var _=e.charCodeAt(p);re[n>>1]=_,n+=2}return re[n>>1]=0,n-s},_o=e=>e.length*2,go=(e,n)=>{S(e%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var o=0,s="";!(o>=n/4);){var d=U[e+o*4>>2];if(d==0)break;if(++o,d>=65536){var p=d-65536;s+=String.fromCharCode(55296|p>>10,56320|p&1023)}else s+=String.fromCharCode(d)}return s},yo=(e,n,o)=>{if(S(n%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),S(typeof o=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),o??(o=2147483647),o<4)return 0;for(var s=n,d=s+o-4,p=0;p<e.length;++p){var _=e.charCodeAt(p);if(_>=55296&&_<=57343){var y=e.charCodeAt(++p);_=65536+((_&1023)<<10)|y&1023}if(U[n>>2]=_,n+=4,n+4>d)break}return U[n>>2]=0,n-s},wo=e=>{for(var n=0,o=0;o<e.length;++o){var s=e.charCodeAt(o);s>=55296&&s<=57343&&++o,n+=4}return n},Eo=(e,n,o)=>{o=ve(o);var s,d,p,_;n===2?(s=vo,d=mo,_=_o,p=y=>Y[y>>1]):n===4&&(s=go,d=yo,_=wo,p=y=>I[y>>2]),ke(e,{name:o,fromWireType:y=>{for(var T=I[y>>2],A,M=y+4,O=0;O<=T;++O){var H=y+4+O*n;if(O==T||p(H)==0){var R=H-M,V=s(M,R);A===void 0?A=V:(A+="\0",A+=V),M=H+n}}return Re(y),A},toWireType:(y,T)=>{typeof T!="string"&&ce(`Cannot pass non-string to C++ string type ${o}`);var A=_(T),M=cn(4+A+n);return I[M>>2]=A/n,d(T,M+4,A+n),y!==null&&y.push(Re,M),M},argPackAdvance:Ue,readValueFromPointer:nr,destructorFunction(y){Re(y)}})},bo=(e,n)=>{n=ve(n),ke(e,{isVoid:!0,name:n,argPackAdvance:0,fromWireType:()=>{},toWireType:(o,s)=>{}})},xo=(e,n,o)=>K.copyWithin(e,n,n+o),sr=0,To=()=>{qr=!1,sr=0},tn=(e,n)=>{var o=Le[e];return o===void 0&&ce(`${n} has unknown type ${Zr(e)}`),o},ko=(e,n,o)=>{var s=[],d=e.toWireType(s,o);return s.length&&(I[n>>2]=ae.toHandle(s)),d},So=(e,n,o)=>(e=ae.toValue(e),n=tn(n,"emval::as"),ko(n,o,e)),Ao=(e,n)=>(e=ae.toValue(e),n=ae.toValue(n),ae.toHandle(e[n])),Fo=e=>{e>9&&(he[e+1]+=1)},Co=()=>ae.toHandle([]),Mo={},Po=e=>{var n=Mo[e];return n===void 0?ve(e):n},No=e=>ae.toHandle(Po(e)),Ro=e=>{var n=ae.toValue(e);Kr(n),rr(e)},Oo=(e,n,o)=>{e=ae.toValue(e),n=ae.toValue(n),o=ae.toValue(o),e[n]=o},Do=(e,n)=>{e=tn(e,"_emval_take_value");var o=e.readValueFromPointer(n);return ae.toHandle(o)},Io=(e,n,o,s)=>{var d=new Date().getFullYear(),p=new Date(d,0,1),_=new Date(d,6,1),y=p.getTimezoneOffset(),T=_.getTimezoneOffset(),A=Math.max(y,T);I[e>>2]=A*60,U[n>>2]=+(y!=T);var M=R=>{var V=R>=0?"-":"+",Z=Math.abs(R),se=String(Math.floor(Z/60)).padStart(2,"0"),fe=String(Z%60).padStart(2,"0");return`UTC${V}${se}${fe}`},O=M(y),H=M(T);S(O),S(H),S(st(O)<=16,`timezone name truncated to fit in TZNAME_MAX (${O})`),S(st(H)<=16,`timezone name truncated to fit in TZNAME_MAX (${H})`),T<y?(at(O,o,17),at(H,s,17)):(at(O,s,17),at(H,o,17))},$o=e=>{ee(`Cannot enlarge memory arrays to size ${e} bytes (OOM). Either (1) compile with -sINITIAL_MEMORY=X with X higher than the current value ${G.length}, (2) compile with -sALLOW_MEMORY_GROWTH which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -sABORTING_MALLOC=0`)},Lo=e=>{K.length,e>>>=0,$o(e)},lr={},Uo=()=>E||"./this.program",lt=()=>{if(!lt.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Uo()};for(var o in lr)lr[o]===void 0?delete n[o]:n[o]=lr[o];var s=[];for(var o in n)s.push(`${o}=${n[o]}`);lt.strings=s}return lt.strings},Bo=(e,n)=>{for(var o=0;o<e.length;++o)S(e.charCodeAt(o)===(e.charCodeAt(o)&255)),G[n++]=e.charCodeAt(o);G[n]=0},zo=(e,n)=>{var o=0;return lt().forEach((s,d)=>{var p=n+o;I[e+d*4>>2]=p,Bo(s,p),o+=s.length+1}),0},Ho=(e,n)=>{var o=lt();I[e>>2]=o.length;var s=0;return o.forEach(d=>s+=d.length+1),I[n>>2]=s,0},rn=()=>qr||sr>0,nn=e=>{var n;rn()||((n=a.onExit)==null||n.call(a,e),L=!0),x(e,new Mi(e))},Wo=(e,n)=>{if(ha(),rn()&&!n){var o=`program exited (with status: ${e}), but keepRuntimeAlive() is set (counter=${sr}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;u(o),B(o)}nn(e)},qo=Wo,Q={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return n.exec(e).slice(1)},normalizeArray:(e,n)=>{for(var o=0,s=e.length-1;s>=0;s--){var d=e[s];d==="."?e.splice(s,1):d===".."?(e.splice(s,1),o++):o&&(e.splice(s,1),o--)}if(n)for(;o;o--)e.unshift("..");return e},normalize:e=>{var n=Q.isAbs(e),o=e.substr(-1)==="/";return e=Q.normalizeArray(e.split("/").filter(s=>!!s),!n).join("/"),!e&&!n&&(e="."),e&&o&&(e+="/"),(n?"/":"")+e},dirname:e=>{var n=Q.splitPath(e),o=n[0],s=n[1];return!o&&!s?".":(s&&(s=s.substr(0,s.length-1)),o+s)},basename:e=>{if(e==="/")return"/";e=Q.normalize(e),e=e.replace(/\/$/,"");var n=e.lastIndexOf("/");return n===-1?e:e.substr(n+1)},join:(...e)=>Q.normalize(e.join("/")),join2:(e,n)=>Q.normalize(e+"/"+n)},Vo=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return s=>crypto.getRandomValues(s);if(m)try{var e=w("crypto"),n=e.randomFillSync;if(n)return s=>e.randomFillSync(s);var o=e.randomBytes;return s=>(s.set(o(s.byteLength)),s)}catch{}ee("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: (array) => { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")},on=e=>(on=Vo())(e),Se={resolve:(...e)=>{for(var n="",o=!1,s=e.length-1;s>=-1&&!o;s--){var d=s>=0?e[s]:c.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!d)return"";n=d+"/"+n,o=Q.isAbs(d)}return n=Q.normalizeArray(n.split("/").filter(p=>!!p),!o).join("/"),(o?"/":"")+n||"."},relative:(e,n)=>{e=Se.resolve(e).substr(1),n=Se.resolve(n).substr(1);function o(A){for(var M=0;M<A.length&&A[M]==="";M++);for(var O=A.length-1;O>=0&&A[O]==="";O--);return M>O?[]:A.slice(M,O-M+1)}for(var s=o(e.split("/")),d=o(n.split("/")),p=Math.min(s.length,d.length),_=p,y=0;y<p;y++)if(s[y]!==d[y]){_=y;break}for(var T=[],y=_;y<s.length;y++)T.push("..");return T=T.concat(d.slice(_)),T.join("/")}},ur=[];function an(e,n,o){var s=st(e)+1,d=new Array(s),p=ar(e,d,0,d.length);return d.length=p,d}var Go=()=>{if(!ur.length){var e=null;if(m){var n=256,o=Buffer.alloc(n),s=0,d=process.stdin.fd;try{s=q.readSync(d,o,0,n)}catch(p){if(p.toString().includes("EOF"))s=0;else throw p}s>0&&(e=o.slice(0,s).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`));if(!e)return null;ur=an(e)}return ur.shift()},Pe={ttys:[],init(){},shutdown(){},register(e,n){Pe.ttys[e]={input:[],output:[],ops:n},c.registerDevice(e,Pe.stream_ops)},stream_ops:{open(e){var n=Pe.ttys[e.node.rdev];if(!n)throw new c.ErrnoError(43);e.tty=n,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,n,o,s,d){if(!e.tty||!e.tty.ops.get_char)throw new c.ErrnoError(60);for(var p=0,_=0;_<s;_++){var y;try{y=e.tty.ops.get_char(e.tty)}catch{throw new c.ErrnoError(29)}if(y===void 0&&p===0)throw new c.ErrnoError(6);if(y==null)break;p++,n[o+_]=y}return p&&(e.node.timestamp=Date.now()),p},write(e,n,o,s,d){if(!e.tty||!e.tty.ops.put_char)throw new c.ErrnoError(60);try{for(var p=0;p<s;p++)e.tty.ops.put_char(e.tty,n[o+p])}catch{throw new c.ErrnoError(29)}return s&&(e.node.timestamp=Date.now()),p}},default_tty_ops:{get_char(e){return Go()},put_char(e,n){n===null||n===10?(J(Ge(e.output)),e.output=[]):n!=0&&e.output.push(n)},fsync(e){e.output&&e.output.length>0&&(J(Ge(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,n,o){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,n){n===null||n===10?(B(Ge(e.output)),e.output=[]):n!=0&&e.output.push(n)},fsync(e){e.output&&e.output.length>0&&(B(Ge(e.output)),e.output=[])}}},sn=e=>{ee("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")},z={ops_table:null,mount(e){return z.createNode(null,"/",16895,0)},createNode(e,n,o,s){if(c.isBlkdev(o)||c.isFIFO(o))throw new c.ErrnoError(63);z.ops_table||(z.ops_table={dir:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr,lookup:z.node_ops.lookup,mknod:z.node_ops.mknod,rename:z.node_ops.rename,unlink:z.node_ops.unlink,rmdir:z.node_ops.rmdir,readdir:z.node_ops.readdir,symlink:z.node_ops.symlink},stream:{llseek:z.stream_ops.llseek}},file:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr},stream:{llseek:z.stream_ops.llseek,read:z.stream_ops.read,write:z.stream_ops.write,allocate:z.stream_ops.allocate,mmap:z.stream_ops.mmap,msync:z.stream_ops.msync}},link:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr,readlink:z.node_ops.readlink},stream:{}},chrdev:{node:{getattr:z.node_ops.getattr,setattr:z.node_ops.setattr},stream:c.chrdev_stream_ops}});var d=c.createNode(e,n,o,s);return c.isDir(d.mode)?(d.node_ops=z.ops_table.dir.node,d.stream_ops=z.ops_table.dir.stream,d.contents={}):c.isFile(d.mode)?(d.node_ops=z.ops_table.file.node,d.stream_ops=z.ops_table.file.stream,d.usedBytes=0,d.contents=null):c.isLink(d.mode)?(d.node_ops=z.ops_table.link.node,d.stream_ops=z.ops_table.link.stream):c.isChrdev(d.mode)&&(d.node_ops=z.ops_table.chrdev.node,d.stream_ops=z.ops_table.chrdev.stream),d.timestamp=Date.now(),e&&(e.contents[n]=d,e.timestamp=d.timestamp),d},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,n){var o=e.contents?e.contents.length:0;if(!(o>=n)){var s=1024*1024;n=Math.max(n,o*(o<s?2:1.125)>>>0),o!=0&&(n=Math.max(n,256));var d=e.contents;e.contents=new Uint8Array(n),e.usedBytes>0&&e.contents.set(d.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,n){if(e.usedBytes!=n)if(n==0)e.contents=null,e.usedBytes=0;else{var o=e.contents;e.contents=new Uint8Array(n),o&&e.contents.set(o.subarray(0,Math.min(n,e.usedBytes))),e.usedBytes=n}},node_ops:{getattr(e){var n={};return n.dev=c.isChrdev(e.mode)?e.id:1,n.ino=e.id,n.mode=e.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=e.rdev,c.isDir(e.mode)?n.size=4096:c.isFile(e.mode)?n.size=e.usedBytes:c.isLink(e.mode)?n.size=e.link.length:n.size=0,n.atime=new Date(e.timestamp),n.mtime=new Date(e.timestamp),n.ctime=new Date(e.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr(e,n){n.mode!==void 0&&(e.mode=n.mode),n.timestamp!==void 0&&(e.timestamp=n.timestamp),n.size!==void 0&&z.resizeFileStorage(e,n.size)},lookup(e,n){throw new c.ErrnoError(44)},mknod(e,n,o,s){return z.createNode(e,n,o,s)},rename(e,n,o){if(c.isDir(e.mode)){var s;try{s=c.lookupNode(n,o)}catch{}if(s)for(var d in s.contents)throw new c.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=o,n.contents[o]=e,n.timestamp=e.parent.timestamp},unlink(e,n){delete e.contents[n],e.timestamp=Date.now()},rmdir(e,n){var o=c.lookupNode(e,n);for(var s in o.contents)throw new c.ErrnoError(55);delete e.contents[n],e.timestamp=Date.now()},readdir(e){var n=[".",".."];for(var o of Object.keys(e.contents))n.push(o);return n},symlink(e,n,o){var s=z.createNode(e,n,41471,0);return s.link=o,s},readlink(e){if(!c.isLink(e.mode))throw new c.ErrnoError(28);return e.link}},stream_ops:{read(e,n,o,s,d){var p=e.node.contents;if(d>=e.node.usedBytes)return 0;var _=Math.min(e.node.usedBytes-d,s);if(S(_>=0),_>8&&p.subarray)n.set(p.subarray(d,d+_),o);else for(var y=0;y<_;y++)n[o+y]=p[d+y];return _},write(e,n,o,s,d,p){if(S(!(n instanceof ArrayBuffer)),!s)return 0;var _=e.node;if(_.timestamp=Date.now(),n.subarray&&(!_.contents||_.contents.subarray)){if(p)return S(d===0,"canOwn must imply no weird position inside the file"),_.contents=n.subarray(o,o+s),_.usedBytes=s,s;if(_.usedBytes===0&&d===0)return _.contents=n.slice(o,o+s),_.usedBytes=s,s;if(d+s<=_.usedBytes)return _.contents.set(n.subarray(o,o+s),d),s}if(z.expandFileStorage(_,d+s),_.contents.subarray&&n.subarray)_.contents.set(n.subarray(o,o+s),d);else for(var y=0;y<s;y++)_.contents[d+y]=n[o+y];return _.usedBytes=Math.max(_.usedBytes,d+s),s},llseek(e,n,o){var s=n;if(o===1?s+=e.position:o===2&&c.isFile(e.node.mode)&&(s+=e.node.usedBytes),s<0)throw new c.ErrnoError(28);return s},allocate(e,n,o){z.expandFileStorage(e.node,n+o),e.node.usedBytes=Math.max(e.node.usedBytes,n+o)},mmap(e,n,o,s,d){if(!c.isFile(e.node.mode))throw new c.ErrnoError(43);var p,_,y=e.node.contents;if(!(d&2)&&y&&y.buffer===G.buffer)_=!1,p=y.byteOffset;else{if(_=!0,p=sn(),!p)throw new c.ErrnoError(48);y&&((o>0||o+n<y.length)&&(y.subarray?y=y.subarray(o,o+n):y=Array.prototype.slice.call(y,o,o+n)),G.set(y,p))}return{ptr:p,allocated:_}},msync(e,n,o,s,d){return z.stream_ops.write(e,n,0,s,o,!1),0}}},jo=(e,n,o,s)=>{var d=Ir(`al ${e}`);F(e).then(p=>{S(p,`Loading data file "${e}" failed (no arrayBuffer).`),n(new Uint8Array(p)),d&&St(d)},p=>{if(o)o();else throw`Loading data file "${e}" failed.`}),d&&Zt(d)},Yo=(e,n,o,s,d,p)=>{c.createDataFile(e,n,o,s,d,p)},Xo=a.preloadPlugins||[],Ko=(e,n,o,s)=>{typeof Browser<"u"&&Browser.init();var d=!1;return Xo.forEach(p=>{d||p.canHandle(n)&&(p.handle(e,n,o,s),d=!0)}),d},Jo=(e,n,o,s,d,p,_,y,T,A)=>{var M=n?Se.resolve(Q.join2(e,n)):e,O=Ir(`cp ${M}`);function H(R){function V(Z){A==null||A(),y||Yo(e,n,Z,s,d,T),p==null||p(),St(O)}Ko(R,M,V,()=>{_==null||_(),St(O)})||V(R)}Zt(O),typeof o=="string"?jo(o,H,_):H(o)},Qo=e=>{var n={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},o=n[e];if(typeof o>"u")throw new Error(`Unknown file open mode: ${e}`);return o},cr=(e,n)=>{var o=0;return e&&(o|=365),n&&(o|=146),o},Zo=e=>je(ua(e)),ln={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},c={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class extends Error{constructor(n){super(kt?Zo(n):"");_e(this,"name","ErrnoError");this.errno=n;for(var o in ln)if(ln[o]===n){this.code=o;break}}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{constructor(){_e(this,"shared",{})}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,n,o,s){_e(this,"node_ops",{});_e(this,"stream_ops",{});_e(this,"readMode",365);_e(this,"writeMode",146);_e(this,"mounted",null);e||(e=this),this.parent=e,this.mount=e.mount,this.id=c.nextInode++,this.name=n,this.mode=o,this.rdev=s}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return c.isDir(this.mode)}get isDevice(){return c.isChrdev(this.mode)}},lookupPath(e,n={}){if(e=Se.resolve(e),!e)return{path:"",node:null};var o={follow_mount:!0,recurse_count:0};if(n=Object.assign(o,n),n.recurse_count>8)throw new c.ErrnoError(32);for(var s=e.split("/").filter(O=>!!O),d=c.root,p="/",_=0;_<s.length;_++){var y=_===s.length-1;if(y&&n.parent)break;if(d=c.lookupNode(d,s[_]),p=Q.join2(p,s[_]),c.isMountpoint(d)&&(!y||y&&n.follow_mount)&&(d=d.mounted.root),!y||n.follow)for(var T=0;c.isLink(d.mode);){var A=c.readlink(p);p=Se.resolve(Q.dirname(p),A);var M=c.lookupPath(p,{recurse_count:n.recurse_count+1});if(d=M.node,T++>40)throw new c.ErrnoError(32)}}return{path:p,node:d}},getPath(e){for(var n;;){if(c.isRoot(e)){var o=e.mount.mountpoint;return n?o[o.length-1]!=="/"?`${o}/${n}`:o+n:o}n=n?`${e.name}/${n}`:e.name,e=e.parent}},hashName(e,n){for(var o=0,s=0;s<n.length;s++)o=(o<<5)-o+n.charCodeAt(s)|0;return(e+o>>>0)%c.nameTable.length},hashAddNode(e){var n=c.hashName(e.parent.id,e.name);e.name_next=c.nameTable[n],c.nameTable[n]=e},hashRemoveNode(e){var n=c.hashName(e.parent.id,e.name);if(c.nameTable[n]===e)c.nameTable[n]=e.name_next;else for(var o=c.nameTable[n];o;){if(o.name_next===e){o.name_next=e.name_next;break}o=o.name_next}},lookupNode(e,n){var o=c.mayLookup(e);if(o)throw new c.ErrnoError(o);for(var s=c.hashName(e.id,n),d=c.nameTable[s];d;d=d.name_next){var p=d.name;if(d.parent.id===e.id&&p===n)return d}return c.lookup(e,n)},createNode(e,n,o,s){S(typeof e=="object");var d=new c.FSNode(e,n,o,s);return c.hashAddNode(d),d},destroyNode(e){c.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var n=["r","w","rw"][e&3];return e&512&&(n+="w"),n},nodePermissions(e,n){return c.ignorePermissions?0:n.includes("r")&&!(e.mode&292)||n.includes("w")&&!(e.mode&146)||n.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!c.isDir(e.mode))return 54;var n=c.nodePermissions(e,"x");return n||(e.node_ops.lookup?0:2)},mayCreate(e,n){try{var o=c.lookupNode(e,n);return 20}catch{}return c.nodePermissions(e,"wx")},mayDelete(e,n,o){var s;try{s=c.lookupNode(e,n)}catch(p){return p.errno}var d=c.nodePermissions(e,"wx");if(d)return d;if(o){if(!c.isDir(s.mode))return 54;if(c.isRoot(s)||c.getPath(s)===c.cwd())return 10}else if(c.isDir(s.mode))return 31;return 0},mayOpen(e,n){return e?c.isLink(e.mode)?32:c.isDir(e.mode)&&(c.flagsToPermissionString(n)!=="r"||n&512)?31:c.nodePermissions(e,c.flagsToPermissionString(n)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=c.MAX_OPEN_FDS;e++)if(!c.streams[e])return e;throw new c.ErrnoError(33)},getStreamChecked(e){var n=c.getStream(e);if(!n)throw new c.ErrnoError(8);return n},getStream:e=>c.streams[e],createStream(e,n=-1){return S(n>=-1),e=Object.assign(new c.FSStream,e),n==-1&&(n=c.nextfd()),e.fd=n,c.streams[n]=e,e},closeStream(e){c.streams[e]=null},dupStream(e,n=-1){var s,d;var o=c.createStream(e,n);return(d=(s=o.stream_ops)==null?void 0:s.dup)==null||d.call(s,o),o},chrdev_stream_ops:{open(e){var o,s;var n=c.getDevice(e.node.rdev);e.stream_ops=n.stream_ops,(s=(o=e.stream_ops).open)==null||s.call(o,e)},llseek(){throw new c.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,n)=>e<<8|n,registerDevice(e,n){c.devices[e]={stream_ops:n}},getDevice:e=>c.devices[e],getMounts(e){for(var n=[],o=[e];o.length;){var s=o.pop();n.push(s),o.push(...s.mounts)}return n},syncfs(e,n){typeof e=="function"&&(n=e,e=!1),c.syncFSRequests++,c.syncFSRequests>1&&B(`warning: ${c.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var o=c.getMounts(c.root.mount),s=0;function d(_){return S(c.syncFSRequests>0),c.syncFSRequests--,n(_)}function p(_){if(_)return p.errored?void 0:(p.errored=!0,d(_));++s>=o.length&&d(null)}o.forEach(_=>{if(!_.type.syncfs)return p(null);_.type.syncfs(_,e,p)})},mount(e,n,o){if(typeof e=="string")throw e;var s=o==="/",d=!o,p;if(s&&c.root)throw new c.ErrnoError(10);if(!s&&!d){var _=c.lookupPath(o,{follow_mount:!1});if(o=_.path,p=_.node,c.isMountpoint(p))throw new c.ErrnoError(10);if(!c.isDir(p.mode))throw new c.ErrnoError(54)}var y={type:e,opts:n,mountpoint:o,mounts:[]},T=e.mount(y);return T.mount=y,y.root=T,s?c.root=T:p&&(p.mounted=y,p.mount&&p.mount.mounts.push(y)),T},unmount(e){var n=c.lookupPath(e,{follow_mount:!1});if(!c.isMountpoint(n.node))throw new c.ErrnoError(28);var o=n.node,s=o.mounted,d=c.getMounts(s);Object.keys(c.nameTable).forEach(_=>{for(var y=c.nameTable[_];y;){var T=y.name_next;d.includes(y.mount)&&c.destroyNode(y),y=T}}),o.mounted=null;var p=o.mount.mounts.indexOf(s);S(p!==-1),o.mount.mounts.splice(p,1)},lookup(e,n){return e.node_ops.lookup(e,n)},mknod(e,n,o){var s=c.lookupPath(e,{parent:!0}),d=s.node,p=Q.basename(e);if(!p||p==="."||p==="..")throw new c.ErrnoError(28);var _=c.mayCreate(d,p);if(_)throw new c.ErrnoError(_);if(!d.node_ops.mknod)throw new c.ErrnoError(63);return d.node_ops.mknod(d,p,n,o)},create(e,n){return n=n!==void 0?n:438,n&=4095,n|=32768,c.mknod(e,n,0)},mkdir(e,n){return n=n!==void 0?n:511,n&=1023,n|=16384,c.mknod(e,n,0)},mkdirTree(e,n){for(var o=e.split("/"),s="",d=0;d<o.length;++d)if(o[d]){s+="/"+o[d];try{c.mkdir(s,n)}catch(p){if(p.errno!=20)throw p}}},mkdev(e,n,o){return typeof o>"u"&&(o=n,n=438),n|=8192,c.mknod(e,n,o)},symlink(e,n){if(!Se.resolve(e))throw new c.ErrnoError(44);var o=c.lookupPath(n,{parent:!0}),s=o.node;if(!s)throw new c.ErrnoError(44);var d=Q.basename(n),p=c.mayCreate(s,d);if(p)throw new c.ErrnoError(p);if(!s.node_ops.symlink)throw new c.ErrnoError(63);return s.node_ops.symlink(s,d,e)},rename(e,n){var o=Q.dirname(e),s=Q.dirname(n),d=Q.basename(e),p=Q.basename(n),_,y,T;if(_=c.lookupPath(e,{parent:!0}),y=_.node,_=c.lookupPath(n,{parent:!0}),T=_.node,!y||!T)throw new c.ErrnoError(44);if(y.mount!==T.mount)throw new c.ErrnoError(75);var A=c.lookupNode(y,d),M=Se.relative(e,s);if(M.charAt(0)!==".")throw new c.ErrnoError(28);if(M=Se.relative(n,o),M.charAt(0)!==".")throw new c.ErrnoError(55);var O;try{O=c.lookupNode(T,p)}catch{}if(A!==O){var H=c.isDir(A.mode),R=c.mayDelete(y,d,H);if(R)throw new c.ErrnoError(R);if(R=O?c.mayDelete(T,p,H):c.mayCreate(T,p),R)throw new c.ErrnoError(R);if(!y.node_ops.rename)throw new c.ErrnoError(63);if(c.isMountpoint(A)||O&&c.isMountpoint(O))throw new c.ErrnoError(10);if(T!==y&&(R=c.nodePermissions(y,"w"),R))throw new c.ErrnoError(R);c.hashRemoveNode(A);try{y.node_ops.rename(A,T,p),A.parent=T}catch(V){throw V}finally{c.hashAddNode(A)}}},rmdir(e){var n=c.lookupPath(e,{parent:!0}),o=n.node,s=Q.basename(e),d=c.lookupNode(o,s),p=c.mayDelete(o,s,!0);if(p)throw new c.ErrnoError(p);if(!o.node_ops.rmdir)throw new c.ErrnoError(63);if(c.isMountpoint(d))throw new c.ErrnoError(10);o.node_ops.rmdir(o,s),c.destroyNode(d)},readdir(e){var n=c.lookupPath(e,{follow:!0}),o=n.node;if(!o.node_ops.readdir)throw new c.ErrnoError(54);return o.node_ops.readdir(o)},unlink(e){var n=c.lookupPath(e,{parent:!0}),o=n.node;if(!o)throw new c.ErrnoError(44);var s=Q.basename(e),d=c.lookupNode(o,s),p=c.mayDelete(o,s,!1);if(p)throw new c.ErrnoError(p);if(!o.node_ops.unlink)throw new c.ErrnoError(63);if(c.isMountpoint(d))throw new c.ErrnoError(10);o.node_ops.unlink(o,s),c.destroyNode(d)},readlink(e){var n=c.lookupPath(e),o=n.node;if(!o)throw new c.ErrnoError(44);if(!o.node_ops.readlink)throw new c.ErrnoError(28);return Se.resolve(c.getPath(o.parent),o.node_ops.readlink(o))},stat(e,n){var o=c.lookupPath(e,{follow:!n}),s=o.node;if(!s)throw new c.ErrnoError(44);if(!s.node_ops.getattr)throw new c.ErrnoError(63);return s.node_ops.getattr(s)},lstat(e){return c.stat(e,!0)},chmod(e,n,o){var s;if(typeof e=="string"){var d=c.lookupPath(e,{follow:!o});s=d.node}else s=e;if(!s.node_ops.setattr)throw new c.ErrnoError(63);s.node_ops.setattr(s,{mode:n&4095|s.mode&-4096,timestamp:Date.now()})},lchmod(e,n){c.chmod(e,n,!0)},fchmod(e,n){var o=c.getStreamChecked(e);c.chmod(o.node,n)},chown(e,n,o,s){var d;if(typeof e=="string"){var p=c.lookupPath(e,{follow:!s});d=p.node}else d=e;if(!d.node_ops.setattr)throw new c.ErrnoError(63);d.node_ops.setattr(d,{timestamp:Date.now()})},lchown(e,n,o){c.chown(e,n,o,!0)},fchown(e,n,o){var s=c.getStreamChecked(e);c.chown(s.node,n,o)},truncate(e,n){if(n<0)throw new c.ErrnoError(28);var o;if(typeof e=="string"){var s=c.lookupPath(e,{follow:!0});o=s.node}else o=e;if(!o.node_ops.setattr)throw new c.ErrnoError(63);if(c.isDir(o.mode))throw new c.ErrnoError(31);if(!c.isFile(o.mode))throw new c.ErrnoError(28);var d=c.nodePermissions(o,"w");if(d)throw new c.ErrnoError(d);o.node_ops.setattr(o,{size:n,timestamp:Date.now()})},ftruncate(e,n){var o=c.getStreamChecked(e);if(!(o.flags&2097155))throw new c.ErrnoError(28);c.truncate(o.node,n)},utime(e,n,o){var s=c.lookupPath(e,{follow:!0}),d=s.node;d.node_ops.setattr(d,{timestamp:Math.max(n,o)})},open(e,n,o){if(e==="")throw new c.ErrnoError(44);n=typeof n=="string"?Qo(n):n,n&64?(o=typeof o>"u"?438:o,o=o&4095|32768):o=0;var s;if(typeof e=="object")s=e;else{e=Q.normalize(e);try{var d=c.lookupPath(e,{follow:!(n&131072)});s=d.node}catch{}}var p=!1;if(n&64)if(s){if(n&128)throw new c.ErrnoError(20)}else s=c.mknod(e,o,0),p=!0;if(!s)throw new c.ErrnoError(44);if(c.isChrdev(s.mode)&&(n&=-513),n&65536&&!c.isDir(s.mode))throw new c.ErrnoError(54);if(!p){var _=c.mayOpen(s,n);if(_)throw new c.ErrnoError(_)}n&512&&!p&&c.truncate(s,0),n&=-131713;var y=c.createStream({node:s,path:c.getPath(s),flags:n,seekable:!0,position:0,stream_ops:s.stream_ops,ungotten:[],error:!1});return y.stream_ops.open&&y.stream_ops.open(y),a.logReadFiles&&!(n&1)&&(e in c.readFiles||(c.readFiles[e]=1)),y},close(e){if(c.isClosed(e))throw new c.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(n){throw n}finally{c.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,n,o){if(c.isClosed(e))throw new c.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new c.ErrnoError(70);if(o!=0&&o!=1&&o!=2)throw new c.ErrnoError(28);return e.position=e.stream_ops.llseek(e,n,o),e.ungotten=[],e.position},read(e,n,o,s,d){if(S(o>=0),s<0||d<0)throw new c.ErrnoError(28);if(c.isClosed(e))throw new c.ErrnoError(8);if((e.flags&2097155)===1)throw new c.ErrnoError(8);if(c.isDir(e.node.mode))throw new c.ErrnoError(31);if(!e.stream_ops.read)throw new c.ErrnoError(28);var p=typeof d<"u";if(!p)d=e.position;else if(!e.seekable)throw new c.ErrnoError(70);var _=e.stream_ops.read(e,n,o,s,d);return p||(e.position+=_),_},write(e,n,o,s,d,p){if(S(o>=0),s<0||d<0)throw new c.ErrnoError(28);if(c.isClosed(e))throw new c.ErrnoError(8);if(!(e.flags&2097155))throw new c.ErrnoError(8);if(c.isDir(e.node.mode))throw new c.ErrnoError(31);if(!e.stream_ops.write)throw new c.ErrnoError(28);e.seekable&&e.flags&1024&&c.llseek(e,0,2);var _=typeof d<"u";if(!_)d=e.position;else if(!e.seekable)throw new c.ErrnoError(70);var y=e.stream_ops.write(e,n,o,s,d,p);return _||(e.position+=y),y},allocate(e,n,o){if(c.isClosed(e))throw new c.ErrnoError(8);if(n<0||o<=0)throw new c.ErrnoError(28);if(!(e.flags&2097155))throw new c.ErrnoError(8);if(!c.isFile(e.node.mode)&&!c.isDir(e.node.mode))throw new c.ErrnoError(43);if(!e.stream_ops.allocate)throw new c.ErrnoError(138);e.stream_ops.allocate(e,n,o)},mmap(e,n,o,s,d){if(s&2&&!(d&2)&&(e.flags&2097155)!==2)throw new c.ErrnoError(2);if((e.flags&2097155)===1)throw new c.ErrnoError(2);if(!e.stream_ops.mmap)throw new c.ErrnoError(43);if(!n)throw new c.ErrnoError(28);return e.stream_ops.mmap(e,n,o,s,d)},msync(e,n,o,s,d){return S(o>=0),e.stream_ops.msync?e.stream_ops.msync(e,n,o,s,d):0},ioctl(e,n,o){if(!e.stream_ops.ioctl)throw new c.ErrnoError(59);return e.stream_ops.ioctl(e,n,o)},readFile(e,n={}){if(n.flags=n.flags||0,n.encoding=n.encoding||"binary",n.encoding!=="utf8"&&n.encoding!=="binary")throw new Error(`Invalid encoding type "${n.encoding}"`);var o,s=c.open(e,n.flags),d=c.stat(e),p=d.size,_=new Uint8Array(p);return c.read(s,_,0,p,0),n.encoding==="utf8"?o=Ge(_):n.encoding==="binary"&&(o=_),c.close(s),o},writeFile(e,n,o={}){o.flags=o.flags||577;var s=c.open(e,o.flags,o.mode);if(typeof n=="string"){var d=new Uint8Array(st(n)+1),p=ar(n,d,0,d.length);c.write(s,d,0,p,void 0,o.canOwn)}else if(ArrayBuffer.isView(n))c.write(s,n,0,n.byteLength,void 0,o.canOwn);else throw new Error("Unsupported data type");c.close(s)},cwd:()=>c.currentPath,chdir(e){var n=c.lookupPath(e,{follow:!0});if(n.node===null)throw new c.ErrnoError(44);if(!c.isDir(n.node.mode))throw new c.ErrnoError(54);var o=c.nodePermissions(n.node,"x");if(o)throw new c.ErrnoError(o);c.currentPath=n.path},createDefaultDirectories(){c.mkdir("/tmp"),c.mkdir("/home"),c.mkdir("/home/web_user")},createDefaultDevices(){c.mkdir("/dev"),c.registerDevice(c.makedev(1,3),{read:()=>0,write:(s,d,p,_,y)=>_,llseek:()=>0}),c.mkdev("/dev/null",c.makedev(1,3)),Pe.register(c.makedev(5,0),Pe.default_tty_ops),Pe.register(c.makedev(6,0),Pe.default_tty1_ops),c.mkdev("/dev/tty",c.makedev(5,0)),c.mkdev("/dev/tty1",c.makedev(6,0));var e=new Uint8Array(1024),n=0,o=()=>(n===0&&(n=on(e).byteLength),e[--n]);c.createDevice("/dev","random",o),c.createDevice("/dev","urandom",o),c.mkdir("/dev/shm"),c.mkdir("/dev/shm/tmp")},createSpecialDirectories(){c.mkdir("/proc");var e=c.mkdir("/proc/self");c.mkdir("/proc/self/fd"),c.mount({mount(){var n=c.createNode(e,"fd",16895,73);return n.node_ops={lookup(o,s){var d=+s,p=c.getStreamChecked(d),_={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>p.path}};return _.parent=_,_}},n}},{},"/proc/self/fd")},createStandardStreams(e,n,o){e?c.createDevice("/dev","stdin",e):c.symlink("/dev/tty","/dev/stdin"),n?c.createDevice("/dev","stdout",null,n):c.symlink("/dev/tty","/dev/stdout"),o?c.createDevice("/dev","stderr",null,o):c.symlink("/dev/tty1","/dev/stderr");var s=c.open("/dev/stdin",0),d=c.open("/dev/stdout",1),p=c.open("/dev/stderr",1);S(s.fd===0,`invalid handle for stdin (${s.fd})`),S(d.fd===1,`invalid handle for stdout (${d.fd})`),S(p.fd===2,`invalid handle for stderr (${p.fd})`)},staticInit(){c.nameTable=new Array(4096),c.mount(z,{},"/"),c.createDefaultDirectories(),c.createDefaultDevices(),c.createSpecialDirectories(),c.filesystems={MEMFS:z}},init(e,n,o){S(!c.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),c.initialized=!0,e??(e=a.stdin),n??(n=a.stdout),o??(o=a.stderr),c.createStandardStreams(e,n,o)},quit(){c.initialized=!1,fn(0);for(var e=0;e<c.streams.length;e++){var n=c.streams[e];n&&c.close(n)}},findObject(e,n){var o=c.analyzePath(e,n);return o.exists?o.object:null},analyzePath(e,n){try{var o=c.lookupPath(e,{follow:!n});e=o.path}catch{}var s={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var o=c.lookupPath(e,{parent:!0});s.parentExists=!0,s.parentPath=o.path,s.parentObject=o.node,s.name=Q.basename(e),o=c.lookupPath(e,{follow:!n}),s.exists=!0,s.path=o.path,s.object=o.node,s.name=o.node.name,s.isRoot=o.path==="/"}catch(d){s.error=d.errno}return s},createPath(e,n,o,s){e=typeof e=="string"?e:c.getPath(e);for(var d=n.split("/").reverse();d.length;){var p=d.pop();if(p){var _=Q.join2(e,p);try{c.mkdir(_)}catch{}e=_}}return _},createFile(e,n,o,s,d){var p=Q.join2(typeof e=="string"?e:c.getPath(e),n),_=cr(s,d);return c.create(p,_)},createDataFile(e,n,o,s,d,p){var _=n;e&&(e=typeof e=="string"?e:c.getPath(e),_=n?Q.join2(e,n):e);var y=cr(s,d),T=c.create(_,y);if(o){if(typeof o=="string"){for(var A=new Array(o.length),M=0,O=o.length;M<O;++M)A[M]=o.charCodeAt(M);o=A}c.chmod(T,y|146);var H=c.open(T,577);c.write(H,o,0,o.length,0,p),c.close(H),c.chmod(T,y)}},createDevice(e,n,o,s){var y;var d=Q.join2(typeof e=="string"?e:c.getPath(e),n),p=cr(!!o,!!s);(y=c.createDevice).major??(y.major=64);var _=c.makedev(c.createDevice.major++,0);return c.registerDevice(_,{open(T){T.seekable=!1},close(T){var A;(A=s==null?void 0:s.buffer)!=null&&A.length&&s(10)},read(T,A,M,O,H){for(var R=0,V=0;V<O;V++){var Z;try{Z=o()}catch{throw new c.ErrnoError(29)}if(Z===void 0&&R===0)throw new c.ErrnoError(6);if(Z==null)break;R++,A[M+V]=Z}return R&&(T.node.timestamp=Date.now()),R},write(T,A,M,O,H){for(var R=0;R<O;R++)try{s(A[M+R])}catch{throw new c.ErrnoError(29)}return O&&(T.node.timestamp=Date.now()),R}}),c.mkdev(d,p,_)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=N(e.url),e.usedBytes=e.contents.length}catch{throw new c.ErrnoError(29)}},createLazyFile(e,n,o,s,d){class p{constructor(){_e(this,"lengthKnown",!1);_e(this,"chunks",[])}get(R){if(!(R>this.length-1||R<0)){var V=R%this.chunkSize,Z=R/this.chunkSize|0;return this.getter(Z)[V]}}setDataGetter(R){this.getter=R}cacheLength(){var R=new XMLHttpRequest;if(R.open("HEAD",o,!1),R.send(null),!(R.status>=200&&R.status<300||R.status===304))throw new Error("Couldn't load "+o+". Status: "+R.status);var V=Number(R.getResponseHeader("Content-length")),Z,se=(Z=R.getResponseHeader("Accept-Ranges"))&&Z==="bytes",fe=(Z=R.getResponseHeader("Content-Encoding"))&&Z==="gzip",pe=1024*1024;se||(pe=V);var me=(be,Xe)=>{if(be>Xe)throw new Error("invalid range ("+be+", "+Xe+") or no bytes requested!");if(Xe>V-1)throw new Error("only "+V+" bytes available! programmer error!");var ne=new XMLHttpRequest;if(ne.open("GET",o,!1),V!==pe&&ne.setRequestHeader("Range","bytes="+be+"-"+Xe),ne.responseType="arraybuffer",ne.overrideMimeType&&ne.overrideMimeType("text/plain; charset=x-user-defined"),ne.send(null),!(ne.status>=200&&ne.status<300||ne.status===304))throw new Error("Couldn't load "+o+". Status: "+ne.status);return ne.response!==void 0?new Uint8Array(ne.response||[]):an(ne.responseText||"")},ct=this;ct.setDataGetter(be=>{var Xe=be*pe,ne=(be+1)*pe-1;if(ne=Math.min(ne,V-1),typeof ct.chunks[be]>"u"&&(ct.chunks[be]=me(Xe,ne)),typeof ct.chunks[be]>"u")throw new Error("doXHR failed!");return ct.chunks[be]}),(fe||!V)&&(pe=V=1,V=this.getter(0).length,pe=V,J("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=V,this._chunkSize=pe,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!v)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _=new p,y={isDevice:!1,contents:_}}else var y={isDevice:!1,url:o};var T=c.createFile(e,n,y,s,d);y.contents?T.contents=y.contents:y.url&&(T.contents=null,T.url=y.url),Object.defineProperties(T,{usedBytes:{get:function(){return this.contents.length}}});var A={},M=Object.keys(T.stream_ops);M.forEach(H=>{var R=T.stream_ops[H];A[H]=(...V)=>(c.forceLoadFile(T),R(...V))});function O(H,R,V,Z,se){var fe=H.node.contents;if(se>=fe.length)return 0;var pe=Math.min(fe.length-se,Z);if(S(pe>=0),fe.slice)for(var me=0;me<pe;me++)R[V+me]=fe[se+me];else for(var me=0;me<pe;me++)R[V+me]=fe.get(se+me);return pe}return A.read=(H,R,V,Z,se)=>(c.forceLoadFile(T),O(H,R,V,Z,se)),A.mmap=(H,R,V,Z,se)=>{c.forceLoadFile(T);var fe=sn();if(!fe)throw new c.ErrnoError(48);return O(H,G,fe,R,V),{ptr:fe,allocated:!0}},T.stream_ops=A,T},absolutePath(){ee("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){ee("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){ee("FS.createLink has been removed; use FS.symlink instead")},joinPath(){ee("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){ee("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){ee("FS.standardizePath has been removed; use PATH.normalize instead")}},ut={DEFAULT_POLLMASK:5,calculateAt(e,n,o){if(Q.isAbs(n))return n;var s;if(e===-100)s=c.cwd();else{var d=ut.getStreamFromFD(e);s=d.path}if(n.length==0){if(!o)throw new c.ErrnoError(44);return s}return Q.join2(s,n)},doStat(e,n,o){var s=e(n);U[o>>2]=s.dev,U[o+4>>2]=s.mode,I[o+8>>2]=s.nlink,U[o+12>>2]=s.uid,U[o+16>>2]=s.gid,U[o+20>>2]=s.rdev,te=[s.size>>>0,(j=s.size,+Math.abs(j)>=1?j>0?+Math.floor(j/4294967296)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],U[o+24>>2]=te[0],U[o+28>>2]=te[1],U[o+32>>2]=4096,U[o+36>>2]=s.blocks;var d=s.atime.getTime(),p=s.mtime.getTime(),_=s.ctime.getTime();return te=[Math.floor(d/1e3)>>>0,(j=Math.floor(d/1e3),+Math.abs(j)>=1?j>0?+Math.floor(j/4294967296)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],U[o+40>>2]=te[0],U[o+44>>2]=te[1],I[o+48>>2]=d%1e3*1e3*1e3,te=[Math.floor(p/1e3)>>>0,(j=Math.floor(p/1e3),+Math.abs(j)>=1?j>0?+Math.floor(j/4294967296)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],U[o+56>>2]=te[0],U[o+60>>2]=te[1],I[o+64>>2]=p%1e3*1e3*1e3,te=[Math.floor(_/1e3)>>>0,(j=Math.floor(_/1e3),+Math.abs(j)>=1?j>0?+Math.floor(j/4294967296)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],U[o+72>>2]=te[0],U[o+76>>2]=te[1],I[o+80>>2]=_%1e3*1e3*1e3,te=[s.ino>>>0,(j=s.ino,+Math.abs(j)>=1?j>0?+Math.floor(j/4294967296)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],U[o+88>>2]=te[0],U[o+92>>2]=te[1],0},doMsync(e,n,o,s,d){if(!c.isFile(n.node.mode))throw new c.ErrnoError(43);if(s&2)return 0;var p=K.slice(e,e+o);c.msync(n,p,d,o,s)},getStreamFromFD(e){var n=c.getStreamChecked(e);return n},varargs:void 0,getStr(e){var n=je(e);return n}};function ea(e){try{var n=ut.getStreamFromFD(e);return c.close(n),0}catch(o){if(typeof c>"u"||o.name!=="ErrnoError")throw o;return o.errno}}var ta=(e,n,o,s)=>{for(var d=0,p=0;p<o;p++){var _=I[n>>2],y=I[n+4>>2];n+=8;var T=c.read(e,G,_,y,s);if(T<0)return-1;if(d+=T,T<y)break}return d};function ra(e,n,o,s){try{var d=ut.getStreamFromFD(e),p=ta(d,n,o);return I[s>>2]=p,0}catch(_){if(typeof c>"u"||_.name!=="ErrnoError")throw _;return _.errno}}var na=(e,n)=>(S(e==e>>>0||e==(e|0)),S(n===(n|0)),n+2097152>>>0<4194305-!!e?(e>>>0)+n*4294967296:NaN);function ia(e,n,o,s,d){var p=na(n,o);try{if(isNaN(p))return 61;var _=ut.getStreamFromFD(e);return c.llseek(_,p,s),te=[_.position>>>0,(j=_.position,+Math.abs(j)>=1?j>0?+Math.floor(j/4294967296)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)],U[d>>2]=te[0],U[d+4>>2]=te[1],_.getdents&&p===0&&s===0&&(_.getdents=null),0}catch(y){if(typeof c>"u"||y.name!=="ErrnoError")throw y;return y.errno}}var oa=(e,n,o,s)=>{for(var d=0,p=0;p<o;p++){var _=I[n>>2],y=I[n+4>>2];n+=8;var T=c.write(e,G,_,y,s);if(T<0)return-1;if(d+=T,T<y)break}return d};function aa(e,n,o,s){try{var d=ut.getStreamFromFD(e),p=oa(d,n,o);return I[s>>2]=p,0}catch(_){if(typeof c>"u"||_.name!=="ErrnoError")throw _;return _.errno}}$i(),jr=a.BindingError=class extends Error{constructor(n){super(n),this.name="BindingError"}},Yr=a.InternalError=class extends Error{constructor(n){super(n),this.name="InternalError"}},Hi(),Qr=a.UnboundTypeError=ao(Error,"UnboundTypeError"),c.createPreloadedFile=Jo,c.staticInit();function sa(){Fi("fetchSettings")}var un={__assert_fail:Pi,__call_sighandler:Ni,__cxa_throw:Oi,_abort_js:Di,_embind_register_bigint:Ii,_embind_register_bool:Bi,_embind_register_emval:qi,_embind_register_float:Gi,_embind_register_function:uo,_embind_register_integer:fo,_embind_register_memory_view:ho,_embind_register_std_string:po,_embind_register_std_wstring:Eo,_embind_register_void:bo,_emscripten_memcpy_js:xo,_emscripten_runtime_keepalive_clear:To,_emval_as:So,_emval_decref:rr,_emval_get_property:Ao,_emval_incref:Fo,_emval_new_array:Co,_emval_new_cstring:No,_emval_run_destructors:Ro,_emval_set_property:Oo,_emval_take_value:Do,_tzset_js:Io,emscripten_resize_heap:Lo,environ_get:zo,environ_sizes_get:Ho,exit:qo,fd_close:ea,fd_read:ra,fd_seek:ia,fd_write:aa,proc_exit:nn},Ne=Ai(),cn=we("malloc",1),Re=we("free",1),la=we("__getTypeName",1),fn=we("fflush",1),ua=we("strerror",1),dn=()=>(dn=Ne.emscripten_stack_init)(),fr=()=>(fr=Ne.emscripten_stack_get_end)();a.dynCall_jiji=we("dynCall_jiji",5),a.dynCall_viijii=we("dynCall_viijii",7),a.dynCall_iiiiij=we("dynCall_iiiiij",7),a.dynCall_iiiiijj=we("dynCall_iiiiijj",9),a.dynCall_iiiiiijj=we("dynCall_iiiiiijj",10);var ca=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","growMemory","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","readEmAsmArgs","jstoi_q","listenOnce","autoResumeAudioContext","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","polyfillSetImmediate","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_unlink","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","setErrNo","demangle","stackTrace","getFunctionArgsName","createJsInvokerSignature","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","throwInstanceAlreadyDeleted","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","emval_get_global","emval_lookupTypes","emval_addMethodCaller"];ca.forEach(Ci);var fa=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","stackSave","stackRestore","ptrToString","zeroMemory","exitJS","getHeapMax","abortOnCannotGrowMemory","ENV","ERRNO_CODES","strError","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","jstoi_s","getExecutableName","dynCallLegacy","getDynCaller","dynCall","keepRuntimeAlive","asyncLoad","alignMemory","mmapAlloc","wasmTable","noExitRuntime","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","stringToAscii","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","doReadv","doWritev","initRandomFill","randomFill","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createDataFile","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","allocateUTF8","allocateUTF8OnStack","print","printErr","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","getTypeName","getFunctionName","heap32VectorToArray","requireRegisteredType","usesDestructorStack","checkArgCount","getRequiredArgCount","createJsInvoker","UnboundTypeError","PureVirtualError","GenericWireTypeSize","EmValType","EmValOptionalType","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","embindRepr","registeredInstances","registeredPointers","registerType","integerReadValueFromPointer","floatReadValueFromPointer","readPointer","runDestructors","newFunc","craftInvokerFunction","embind__requireFunction","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_freelist","emval_handles","emval_symbols","init_emval","count_emval_handles","getStringOrSymbol","Emval","emval_returnValue","emval_methodCallers","reflectConstruct"];fa.forEach(Wr);var Pt;rt=function e(){Pt||hn(),Pt||(rt=e)};function da(){dn(),vi()}function hn(){if(De>0||(da(),mi(),De>0))return;function e(){var n;Pt||(Pt=!0,a.calledRun=!0,!L&&(_i(),l(a),(n=a.onRuntimeInitialized)==null||n.call(a),S(!a._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),gi()))}a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),e()},1)):e(),Qt()}function ha(){var e=J,n=B,o=!1;J=B=s=>{o=!0};try{fn(0),["stdout","stderr"].forEach(s=>{var T;var d=c.analyzePath("/dev/"+s);if(d){var p=d.object,_=p.rdev,y=Pe.ttys[_];(T=y==null?void 0:y.output)!=null&&T.length&&(o=!0)}})}catch{}J=e,B=n,o&&Ee("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc.")}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();hn(),i=f;for(const e of Object.keys(a))e in r||Object.defineProperty(r,e,{configurable:!0,get(){ee(`Access to module property ('${e}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return i}})();function Dn([t,r,i],[a,l]){return[a*i+t,l*i+r]}function nc(t,r,i,a,l,u,f,h,v,m){let g=Math.atan2(u-i,l-r)+0*(Math.PI/2),w=Math.atan2(h-i,f-r)+0*(Math.PI/2);g>w&&([g,w]=[w,g]);let b=1;w-g>Math.PI&&(b=0);const E=Pr();E.arc(r,i,a,w,g,b),t.append("path").attr("d",E.toString()).attr("class","lines").attr("fill","none").attr("stroke","black").attr("data-center-x",r).attr("data-center-y",i).attr("data-point-one",v).attr("data-point-two",m)}function In(t,r,i){t.selectAll("*").filter(function(){return!this.matches("#poincare-circle")}).remove();const a=t.select("#poincare-circle"),l=+a.attr("cx"),u=+a.attr("cy"),f=+a.attr("r"),h=r.map(v=>Dn([l,u,f],v));i.forEach(([v,m,g,w,b,E])=>{const[x,k]=[h[v],h[m]];let[P,F]=Dn([l,u,f],[w,b]),N=Math.sqrt(E)*f;nc(t,P,F,N,x[0],x[1],k[0],k[1],v,m)}),oc(t,r,[l,u,f])}async function ic(t,r){r.length<3&&In(t,r,[]);const i=await rc(),a=r.map(([u,f])=>({x:u,y:f})),l=i.processArray(a);In(t,r,l)}function pi(t){function r(E){return E[0]*E[0]+E[1]*E[1]}function i(E){return Math.sqrt(r(E))}function a(E,x){return[E*Math.cos(x),E*Math.sin(x)]}const l=.03*1.4,u=i(t),f=Math.atan2(t[1],t[0]),h=((1+u)*Math.exp(l)-(1-u))/((1+u)*Math.exp(l)+(1-u)),v=(1+u-(1-u)*Math.exp(l))/(1+u+(1-u)*Math.exp(l)),m=a(h,f),g=a(v,f);return 2*(.5*Math.sqrt(r([m[0]-g[0],m[1]-g[1]])))}function oc(t,r,[i,a,l]){const u=l;r.forEach(f=>{let h=pi(f)*u;t.append("circle").attr("cx",f[0]*l+i).attr("cy",f[1]*l+a).attr("r",h).attr("class","points").attr("fill","red").attr("opacity",1)})}function $n(t,r){return[t[0]-r[0],t[1]-r[1]]}function Fe(t){return Ln(t[0])+Ln(t[1])}function $t(t){let r=0;return t[0]<0&&(r=1),Math.atan(t[1]/t[0])+r*Math.PI}function ac(t){return[t[0]*Math.cos(t[1]),t[0]*Math.sin(t[1])]}function mt(t,r,i){let a=[];for(let l=0;l<t.length;l++)if(l!=r){a.push([]);for(let u=0;u<t.length;u++)u!=i&&a[a.length-1].push(t[l][u])}return a}function Ln(t){return t*t}class sc{updateStuff(){let r=this.p,i=this.q,a=ac([1/Fe(r),$t(r)]),l=[[0,0,0,0],[Fe(r),r[0],r[1],1],[Fe(i),i[0],i[1],1],[Fe(a),a[0],a[1],1]],u=_t(mt(l,0,0));this.isLine=!1,this.o=[.5*_t(mt(l,0,1))/u,-.5*_t(mt(l,0,2))/u],this.r=Math.sqrt(Fe(this.o)+_t(mt(l,0,3))/u);let f=$t(this.o),h=$t(this.p),v=Math.asin(Math.sin(h-f)*Math.sqrt(Fe(this.p))/Math.sqrt(Fe($n(this.p,this.o)))),m=$t(this.q),g=Math.asin(Math.sin(m-f)*Math.sqrt(Fe(this.q))/Math.sqrt(Fe($n(this.q,this.o))));this.a=f,this.pp=-v,this.qp=-g}constructor(r,i,a,l){this.p=[r,i],this.q=[a,l],this.updateStuff()}}function lc(t,r){let i=new sc(t[0],t[1],r[0],r[1]);return console.log("A",i.o),[i.o,i.r,i.pp,i.qp]}function _t(t){if(t.length==2)return t[0][0]*t[1][1]-t[0][1]*t[1][0];{let r=0,i=1;for(let a=0;a<t.length;a++)r+=i*t[0][a]*_t(mt(t,0,a)),i*=-1;return r}}function uc(t,r,i,a){function l(x,k){return[x[0]-k[0],x[1]-k[1]]}function u(x,k){return[x[0]*k[0]-x[1]*k[1],x[0]*k[1]+x[1]*k[0]]}function f(x){return[x[0],-x[1]]}function h(x){return x[0]*x[0]+x[1]*x[1]}function v(x,k){let P=u(x,f(k));return[P[0]/h(k),P[1]/h(k)]}function m(x,k){let P=l(x,k),F;return h(P)==0?F=[1,0]:F=l([1,0],v(u([h(k),0],x),k)),v(P,F)}const g=t.select("#poincare-circle"),w=+g.attr("cx"),b=+g.attr("cy"),E=+g.attr("r");return a=a.map(x=>m(x,u([r,i],[.01*-1,0]))),t.selectAll(".points").each(function(){const x=et(this),k=+x.attr("cx"),P=+x.attr("cy"),F=[(k-w)/E,(P-b)/E],N=m(F,u([r,i],[.01*-1,0]));let D=pi(N)*E;const $=N[0]*E+w,q=N[1]*E+b;x.attr("cx",$).attr("cy",q).attr("r",D)}),t.selectAll(".lines").each(function(){const x=et(this),k=+x.attr("data-point-one"),P=+x.attr("data-point-two");let F=lc(a[k],a[P]);const N=Pr();let D=a[k],$=a[P],q=Math.atan2(D[1]-F[0][1],D[0]-F[0][0])+0*(Math.PI/2),X=Math.atan2($[1]-F[0][1],$[0]-F[0][0])+0*(Math.PI/2);q>X&&([q,X]=[X,q]);let J=1;X-q>Math.PI&&(J=0),N.arc(F[0][0]*E+w,F[0][1]*E+b,F[1]*E,q,X,1-J),x.attr("d",N.toString())}),a}function cc(t){let i=[];document.addEventListener("keydown",a=>{let l=0,u=0;switch(a.key){case"w":u+=5;break;case"a":l-=5;break;case"s":u-=5;break;case"d":l+=5;break;default:return}console.log("P",i),i=uc(t,l,-u,i),console.log("G",i)}),t.on("click",function(a){const[l,u]=Yt(a,this),f=t.select("#poincare-circle"),h=+f.attr("cx"),v=+f.attr("cy"),m=+f.attr("r"),g=(l-h)/m,w=(u-v)/m;g*g+w*w<=1&&(i.push([g,w]),ic(t,i))})}function Un(t){const r=t.node().clientWidth,i=t.node().clientHeight,a=r/2,l=i/2,u=Math.min(r,i)/(2*1.2);t.selectAll("circle").remove(),t.append("circle").attr("id","poincare-circle").attr("cx",a).attr("cy",l).attr("r",u).attr("fill","none").attr("stroke","black")}function fc(){const t=et("#poincare-model").style("border","1px solid #ccc").style("cursor","none");return Un(t),window.addEventListener("resize",Un(t)),Qu(t),cc(t),t}Ju();fc();const dc=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));
